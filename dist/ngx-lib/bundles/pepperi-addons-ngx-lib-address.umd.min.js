!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/common"),require("@angular/forms"),require("@angular/material/core"),require("@angular/material/form-field"),require("@pepperi-addons/ngx-lib"),require("@pepperi-addons/ngx-lib/textbox"),require("@pepperi-addons/ngx-lib/select"),require("@pepperi-addons/ngx-lib/field-title"),require("@angular/cdk/bidi")):"function"==typeof define&&define.amd?define("@pepperi-addons/ngx-lib/address",["exports","@angular/core","@angular/common","@angular/forms","@angular/material/core","@angular/material/form-field","@pepperi-addons/ngx-lib","@pepperi-addons/ngx-lib/textbox","@pepperi-addons/ngx-lib/select","@pepperi-addons/ngx-lib/field-title","@angular/cdk/bidi"],t):t(((e=e||self)["pepperi-addons"]=e["pepperi-addons"]||{},e["pepperi-addons"]["ngx-lib"]=e["pepperi-addons"]["ngx-lib"]||{},e["pepperi-addons"]["ngx-lib"].address={}),e.ng.core,e.ng.common,e.ng.forms,e.ng.material.core,e.ng.material.formField,e["pepperi-addons"]["ngx-lib"],e["pepperi-addons"]["ngx-lib"].textbox,e["pepperi-addons"]["ngx-lib"].select,e["pepperi-addons"]["ngx-lib"]["field-title"],e.ng.cdk.bidi)}(this,(function(e,t,n,r,a,l,i,o,p,d,u){"use strict";function s(e,n){if(1&e){var r=t.ɵɵgetCurrentView();t.ɵɵelementStart(0,"pep-textbox",8),t.ɵɵlistener("valueChanged",(function(e){t.ɵɵrestoreView(r);var n=t.ɵɵnextContext().$implicit;return t.ɵɵnextContext(2).onValueChange(e,n.key)})),t.ɵɵelementEnd()}if(2&e){var a=t.ɵɵnextContext().$implicit,l=t.ɵɵnextContext(2);t.ɵɵpropertyInterpolate("title",a.formattedValue),t.ɵɵproperty("layoutType",l.layoutType)("form",l.form)("key",a.key)("value",a.value)("formattedValue",a.formattedValue)("label",a.label)("placeholder",a.placeholder)("type",a.type)("required",a.required)("disabled",a.disabled)("readonly",a.readonly)("xAlignment",a.xAlignment)("rowSpan",a.rowSpan)("parentFieldKey",l.key)}}function m(e,n){if(1&e){var r=t.ɵɵgetCurrentView();t.ɵɵelementStart(0,"pep-select",9),t.ɵɵlistener("valueChanged",(function(e){t.ɵɵrestoreView(r);var n=t.ɵɵnextContext().$implicit;return t.ɵɵnextContext(2).onValueChange(e,n.key)})),t.ɵɵelementEnd()}if(2&e){var a=t.ɵɵnextContext().$implicit,l=t.ɵɵnextContext(2);t.ɵɵpropertyInterpolate("title",a.formattedValue),t.ɵɵproperty("layoutType",l.layoutType)("form",l.form)("key",a.key)("value",a.value)("formattedValue",a.formattedValue)("label",a.label)("type",a.type)("required",a.required)("disabled",a.disabled)("readonly",a.readonly)("xAlignment",a.xAlignment)("rowSpan",a.rowSpan)("options",a.options)("parentFieldKey",l.key)}}function c(e,n){if(1&e&&(t.ɵɵelementStart(0,"div",5),t.ɵɵtemplate(1,s,1,15,"pep-textbox",6),t.ɵɵtemplate(2,m,1,15,"pep-select",7),t.ɵɵelementEnd()),2&e){var r=n.$implicit;t.ɵɵclassMapInterpolate1("pepperi-address-field columns-",r.colSpan,""),t.ɵɵproperty("ngSwitch",r.controlType),t.ɵɵadvance(1),t.ɵɵproperty("ngSwitchCase","textbox"),t.ɵɵadvance(1),t.ɵɵproperty("ngSwitchCase","select")}}function g(e,n){if(1&e&&(t.ɵɵelementContainerStart(0),t.ɵɵelement(1,"pep-field-title",2),t.ɵɵelementStart(2,"div",3),t.ɵɵtemplate(3,c,3,6,"div",4),t.ɵɵelementEnd(),t.ɵɵelementContainerEnd()),2&e){var r=t.ɵɵnextContext();t.ɵɵadvance(1),t.ɵɵproperty("label",r.label)("required",r.required)("disabled",r.disabled),t.ɵɵadvance(1),t.ɵɵpropertyInterpolate("dir","2"===r.xAlignment?"rtl":"ltr"),t.ɵɵproperty("formGroupName",r.key)("id",r.key),t.ɵɵadvance(1),t.ɵɵproperty("ngForOf",r.groupFields)}}function f(e,n){if(1&e&&(t.ɵɵelementStart(0,"span",13),t.ɵɵtext(1),t.ɵɵelementEnd()),2&e){var r=t.ɵɵnextContext(2);t.ɵɵadvance(1),t.ɵɵtextInterpolate1("",r.label," ")}}function y(e,n){if(1&e&&(t.ɵɵelementStart(0,"span",15),t.ɵɵtext(1),t.ɵɵelementEnd()),2&e){var r=t.ɵɵnextContext().$implicit;t.ɵɵadvance(1),t.ɵɵtextInterpolate1("",r.formattedValue,", ")}}function v(e,n){if(1&e&&(t.ɵɵelementContainerStart(0),t.ɵɵtemplate(1,y,2,1,"span",14),t.ɵɵelementContainerEnd()),2&e){var r=n.$implicit;t.ɵɵadvance(1),t.ɵɵproperty("ngIf",""!=(null==r?null:r.formattedValue))}}var x=function(e){return[e]};function C(e,n){if(1&e&&(t.ɵɵelementContainerStart(0),t.ɵɵelementStart(1,"div",10),t.ɵɵtemplate(2,f,2,1,"span",11),t.ɵɵtemplate(3,v,2,1,"ng-container",12),t.ɵɵelementEnd(),t.ɵɵelementContainerEnd()),2&e){var r=t.ɵɵnextContext();t.ɵɵadvance(1),t.ɵɵpropertyInterpolate2("title","",r.label," ",r.formattedValue,""),t.ɵɵproperty("ngClass",t.ɵɵpureFunction1(5,x,"text-align-"+r.xAlignment)),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",""!=r.label),t.ɵɵadvance(1),t.ɵɵproperty("ngForOf",r.groupFields)}}function b(e,n){if(1&e&&(t.ɵɵelementStart(0,"span",15),t.ɵɵtext(1),t.ɵɵelementEnd()),2&e){var r=t.ɵɵnextContext().$implicit;t.ɵɵadvance(1),t.ɵɵtextInterpolate1("",r.formattedValue,", ")}}function h(e,n){if(1&e&&(t.ɵɵelementContainerStart(0),t.ɵɵtemplate(1,b,2,1,"span",14),t.ɵɵelementContainerEnd()),2&e){var r=n.$implicit;t.ɵɵadvance(1),t.ɵɵproperty("ngIf",""!=(null==r?null:r.formattedValue))}}function F(e,n){if(1&e&&(t.ɵɵelementContainerStart(0),t.ɵɵelementStart(1,"div",10),t.ɵɵtemplate(2,h,2,1,"ng-container",12),t.ɵɵelementEnd(),t.ɵɵelementContainerEnd()),2&e){var r=t.ɵɵnextContext();t.ɵɵadvance(1),t.ɵɵpropertyInterpolate("title",r.formattedValue),t.ɵɵproperty("ngClass",t.ɵɵpureFunction1(3,x,"text-align-"+r.xAlignment)),t.ɵɵadvance(1),t.ɵɵproperty("ngForOf",r.groupFields)}}var S=function(){function e(e,n){this.element=e,this.renderer=n,this.key="",this.formattedValue="",this.label="",this.required=!1,this.disabled=!1,this.readonly=!1,this.xAlignment="0",this.rowSpan=1,this.form=null,this.layoutType=i.LAYOUT_TYPE.PepperiForm,this.valueChanged=new t.EventEmitter,this.LAYOUT_TYPE=i.LAYOUT_TYPE}return e.prototype.ngOnInit=function(){this.renderer.addClass(this.element.nativeElement,"pep-grouped-field")},e.prototype.ngOnChanges=function(e){var t=this;setTimeout((function(){var e=t.groupFields.filter((function(e){return e.lastFocusField}))[0];e&&e.lastFocusField.focus()}),100)},e.prototype.ngOnDestroy=function(){this.valueChanged&&this.valueChanged.unsubscribe()},e.prototype.onBlur=function(e,t){var n=e.target?e.target.value:e;this.changeValue({apiName:t,value:n},e.relatedTarget)},e.prototype.onValueChange=function(e,t){if(e.target){var n=e.target?e.target.value:e;this.changeValue({apiName:t,value:n.value})}else this.changeValue(e)},e.prototype.changeValue=function(e,t){if(void 0===t&&(t=null),this.groupFields.filter((function(t){return t.key===e.apiName}))[0].value!==e.value){if(this.form){var n=this.form.get(this.key);n&&n.get(e.apiName).setValue(e.value)}this.valueChanged.emit({apiName:e.apiName,value:e.value,lastFocusedField:t})}},e}();S.ɵfac=function(e){return new(e||S)(t.ɵɵdirectiveInject(t.ElementRef),t.ɵɵdirectiveInject(t.Renderer2))},S.ɵcmp=t.ɵɵdefineComponent({type:S,selectors:[["pep-address"]],inputs:{key:"key",formattedValue:"formattedValue",label:"label",required:"required",disabled:"disabled",readonly:"readonly",xAlignment:"xAlignment",rowSpan:"rowSpan",groupFields:"groupFields",form:"form",layoutType:"layoutType"},outputs:{valueChanged:"valueChanged"},features:[t.ɵɵNgOnChangesFeature],decls:4,vars:4,consts:[[3,"formGroup"],[4,"ngIf"],[1,"header",3,"label","required","disabled"],[1,"pepperi-address-container",3,"formGroupName","id","dir"],[3,"ngSwitch","class",4,"ngFor","ngForOf"],[3,"ngSwitch"],[3,"layoutType","title","form","key","value","formattedValue","label","placeholder","type","required","disabled","readonly","xAlignment","rowSpan","parentFieldKey","valueChanged",4,"ngSwitchCase"],[3,"layoutType","title","form","key","value","formattedValue","label","type","required","disabled","readonly","xAlignment","rowSpan","options","parentFieldKey","valueChanged",4,"ngSwitchCase"],[3,"layoutType","title","form","key","value","formattedValue","label","placeholder","type","required","disabled","readonly","xAlignment","rowSpan","parentFieldKey","valueChanged"],[3,"layoutType","title","form","key","value","formattedValue","label","type","required","disabled","readonly","xAlignment","rowSpan","options","parentFieldKey","valueChanged"],[1,"pepperi-card-input",3,"title","ngClass"],["class","body-xs title",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"body-xs","title"],["class","body-sm",4,"ngIf"],[1,"body-sm"]],template:function(e,n){1&e&&(t.ɵɵelementContainerStart(0,0),t.ɵɵtemplate(1,g,4,7,"ng-container",1),t.ɵɵtemplate(2,C,4,7,"ng-container",1),t.ɵɵtemplate(3,F,3,5,"ng-container",1),t.ɵɵelementContainerEnd()),2&e&&(t.ɵɵproperty("formGroup",n.form),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",n.layoutType===n.LAYOUT_TYPE.PepperiForm),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",n.layoutType===n.LAYOUT_TYPE.PepperiCard),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",n.layoutType===n.LAYOUT_TYPE.PepperiTable))},directives:[r.NgControlStatusGroup,r.FormGroupDirective,n.NgIf,d.PepperiFieldTitleComponent,r.FormGroupName,u.Dir,n.NgForOf,n.NgSwitch,n.NgSwitchCase,o.PepperiTextboxComponent,p.PepperiSelectComponent,n.NgClass],styles:[".header[_ngcontent-%COMP%]{-ms-grid-column:1;-ms-grid-column-span:3;grid-column:1/span 3}.pepperi-address-container[_ngcontent-%COMP%]{-ms-grid-columns:(1fr)[3];border-radius:var(--pep-border-radius-md,.25rem);display:-ms-grid;display:grid;grid-column-gap:var(--pep-spacing-md,.75rem);grid-row-gap:var(--pep-spacing-md,.75rem);grid-template-columns:repeat(3,1fr);padding:.875rem var(--pep-spacing-md,.75rem)}.pepperi-address-container[_ngcontent-%COMP%]   .columns-2[_ngcontent-%COMP%]{-ms-grid-column:1;-ms-grid-column-span:2;grid-column:1/span 2}.pepperi-address-container[_ngcontent-%COMP%]   .columns-3[_ngcontent-%COMP%]{-ms-grid-column:1;-ms-grid-column-span:3;grid-column:1/span 3}"],changeDetection:0});var T=function(){};T.ɵmod=t.ɵɵdefineNgModule({type:T}),T.ɵinj=t.ɵɵdefineInjector({factory:function(e){return new(e||T)},imports:[[n.CommonModule,r.ReactiveFormsModule,r.FormsModule,a.MatCommonModule,l.MatFormFieldModule,i.PepperiModule,o.PepperiTextboxModule,p.PepperiSelectModule,d.PepperiFieldTitleModule]]}),("undefined"==typeof ngJitMode||ngJitMode)&&t.ɵɵsetNgModuleScope(T,{declarations:[S],imports:[n.CommonModule,r.ReactiveFormsModule,r.FormsModule,a.MatCommonModule,l.MatFormFieldModule,i.PepperiModule,o.PepperiTextboxModule,p.PepperiSelectModule,d.PepperiFieldTitleModule],exports:[S]}),e.PepperiAddressComponent=S,e.PepperiAddressModule=T,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=pepperi-addons-ngx-lib-address.umd.min.js.map