{"version":3,"file":"pepperi-addons-ngx-lib-signature.umd.js","sources":["../../../projects/ngx-lib/signature/signature.component.html","../../../projects/ngx-lib/signature/signature.component.ts","../../../projects/ngx-lib/signature/signature.module.ts","../../../projects/ngx-lib/signature/public-api.ts","../../../projects/ngx-lib/signature/pepperi-addons-ngx-lib-signature.ts"],"sourcesContent":["<ng-container [formGroup]=\"form\">\r\n    <!-- New code -->\r\n    <ng-container>\r\n        <ng-template #pepperiTemplate>\r\n            <mat-form-field [formGroup]=\"form\" appearance=\"outline\">\r\n                <div class=\"pepperi-file-wrapper\">\r\n                    <div class=\"pepperi-file body-sm\" [ngClass]=\"{ disable: disabled }\" [style.height]=\"fieldHeight\">\r\n                        <ng-container *ngIf=\"src != ''; then withImg; else noImg\"></ng-container>\r\n                        <ng-template #withImg>\r\n                            <button *ngIf=\"!disabled\" mat-button (click)=\"deleteSignature($event)\"\r\n                                class=\"pepperi-button icon-button weak md delete\" tabindex=\"-1\"\r\n                                [ngClass]=\"{ 'right-alignment': xAlignment == '2' }\">\r\n                                <mat-icon>\r\n                                    <pep-icon name=\"system_bin\">\r\n                                    </pep-icon>\r\n                                </mat-icon>\r\n                            </button>\r\n                            <div class=\"pepperi-file-preview\" (click)=\"openSignModal()\">\r\n                                <img [src]=\"src\" [style.max-height]=\"fieldHeight\" class=\"pepperi-file-preview-img\"\r\n                                    (error)=\"errorHandler($event)\" [alt]=\"label\"\r\n                                    [ngClass]=\"['text-align-' + xAlignment]\" />\r\n                            </div>\r\n                        </ng-template>\r\n                        <ng-template #noImg>\r\n                            <div class=\"ellipsis pepperi-file-message\">\r\n                                <pep-icon name=\"system_signature\">\r\n                                </pep-icon>\r\n                                <span class=\"body-sm ellipsis\">\r\n                                    {{ (disabled ? 'MESSAGES.INFO_MISSING_SIGNATURE' : 'SIGNATURE.HINT') | translate }}\r\n                                </span>\r\n                            </div>\r\n                        </ng-template>\r\n                    </div>\r\n                    <input [id]=\"key\" matInput [formControlName]=\"key\" class=\"hidden-input signature\" type=\"text\"\r\n                        [value]=\"src\" [disabled]=\"disabled\" (click)=\"openSignModal()\"\r\n                        (keypress)=\"onKeyPress_OpenSignModal($event)\" autocomplete=\"off\" readonly />\r\n                </div>\r\n\r\n                <mat-error><span class=\"body-xs\"\r\n                        [title]=\"required && src.length == 0 ? ('MESSAGES.ERROR_IS_REQUIRED' | translate: { field: label }) : ('MESSAGES.ERROR_IS_NOT_VALID' | translate: { field: label })\"\r\n                        [innerText]=\"required && src.length == 0 ? ('MESSAGES.ERROR_IS_REQUIRED' | translate: { field: label }) : ('MESSAGES.ERROR_IS_NOT_VALID' | translate: { field: label })\"></span>\r\n                </mat-error>\r\n            </mat-form-field>\r\n        </ng-template>\r\n\r\n        <ng-container *ngIf=\"layoutType === LAYOUT_TYPE.PepperiForm\">\r\n            <div class=\"pepperi-file-container\" [ngClass]=\"{ 'one-row': rowSpan == 1, 'stand-alone': standAlone}\">\r\n                <pep-field-title [label]=\"label\" [required]=\"required\" [disabled]=\"disabled\" [xAlignment]=\"xAlignment\"\r\n                    [showTitle]=\"showTitle\">\r\n                </pep-field-title>\r\n                <ng-container *ngTemplateOutlet=\"pepperiTemplate\"></ng-container>\r\n            </div>\r\n        </ng-container>\r\n\r\n        <ng-container *ngIf=\"layoutType === LAYOUT_TYPE.PepperiCard\">\r\n            <ng-container *ngIf=\"false && isActive && !disabled; then selectedBlock; else notSelectedBlock\">\r\n            </ng-container>\r\n            <ng-template #selectedBlock>\r\n                <div class=\"pepperi-file-container\" [ngClass]=\"{ 'one-row': rowSpan == 1}\">\r\n                    <ng-container *ngTemplateOutlet=\"pepperiTemplate\"></ng-container>\r\n                </div>\r\n            </ng-template>\r\n            <ng-template #notSelectedBlock>\r\n                <div class=\"pepperi-file-container\" [ngClass]=\"{ 'one-row': rowSpan == 1 }\">\r\n                    <ng-container *ngTemplateOutlet=\"pepperiReadonlyTemplate; context: { isTableView: false}\">\r\n                    </ng-container>\r\n                </div>\r\n            </ng-template>\r\n        </ng-container>\r\n\r\n        <ng-container *ngIf=\"layoutType === LAYOUT_TYPE.PepperiTable\">\r\n            <ng-container *ngIf=\"false && isActive && !disabled; then selectedBlock; else notSelectedBlock\">\r\n            </ng-container>\r\n            <ng-template #selectedBlock>\r\n                <div class=\"pepperi-file-container one-row\">\r\n                    <ng-container *ngTemplateOutlet=\"pepperiTemplate\"></ng-container>\r\n                </div>\r\n            </ng-template>\r\n            <ng-template #notSelectedBlock>\r\n                <div class=\"pepperi-file-container one-row\">\r\n                    <ng-container *ngTemplateOutlet=\"pepperiReadonlyTemplate; context: { isTableView: true}\">\r\n                    </ng-container>\r\n                </div>\r\n            </ng-template>\r\n        </ng-container>\r\n    </ng-container>\r\n\r\n    <!-- <ng-container *ngIf=\"inDialog === true\">\r\n        <ng-container *ngTemplateOutlet=\"signaturePopupPad\"></ng-container>\r\n    </ng-container> -->\r\n\r\n    <!-- <div *ngIf=\"inDialog === false\" class=\"signature-backdrop modal\" [ngClass]=\"{ fade: !isVisibleModal }\" tabindex=\"-1\"\r\n        role=\"dialog\" aria-labelledby=\"gridModalLabel\" aria-hidden=\"true\"\r\n        [ngStyle]=\"{ display: isVisibleModal ? 'block' : 'none' }\">\r\n        <div class=\"signature-modal modal-dialog\" role=\"document\">\r\n            <div class=\"modal-content\">\r\n                <ng-container *ngTemplateOutlet=\"signaturePopupPad\"></ng-container>\r\n            </div>\r\n        </div>\r\n    </div> -->\r\n\r\n    <ng-template #pepperiReadonlyTemplate let-isTableView=\"isTableView\">\r\n        <div class=\"pepperi-file-container\">\r\n            <div class=\"pepperi-file-wrapper\">\r\n                <div class=\"pepperi-file body-sm disable\">\r\n                    <ng-container *ngIf=\"src != ''; then withImg; else noImg\"></ng-container>\r\n                    <ng-template #withImg>\r\n                        <div class=\"pepperi-file-preview\" (click)=\"openSignModal()\">\r\n                            <img *ngIf=\"!isTableView\" [src]=\"src\" [style.max-height]=\"fieldHeight\"\r\n                                class=\"pepperi-file-preview-img\" (error)=\"errorHandler($event)\" [alt]=\"label\"\r\n                                [ngClass]=\"['text-align-' + xAlignment]\" />\r\n                            <img *ngIf=\"isTableView\" [src]=\"src\" [style.max-height]=\"fieldHeight\"\r\n                                class=\"pepperi-report-file pepperi-file-preview-img\" (error)=\"errorHandler($event)\"\r\n                                [alt]=\"label\" [ngClass]=\"['text-align-' + xAlignment]\" />\r\n                        </div>\r\n                    </ng-template>\r\n                    <ng-template #noImg></ng-template>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </ng-template>\r\n\r\n    <ng-template #signaturePopupPad>\r\n        <h2 mat-dialog-title class=\"pepperi-border-bottom\">\r\n            <span class=\"pull-left flip ellipsis\">{{ 'SIGNATURE.DIALOG_TITLE' | translate }}</span>\r\n            <button mat-button [mat-dialog-close]=\"null\" class=\"pepperi-button icon-button md weak pull-right flip\">\r\n                <mat-icon>\r\n                    <pep-icon name=\"system_close\">\r\n                    </pep-icon>\r\n                </mat-icon>\r\n            </button>\r\n        </h2>\r\n        <div mat-dialog-content>\r\n            <signature-pad #signaturePad [options]=\"signaturePadOptions\" (onBeginEvent)=\"drawStart()\"\r\n                (onEndEvent)=\"drawComplete()\">\r\n            </signature-pad>\r\n        </div>\r\n        <div mat-dialog-actions *ngIf=\"showActionBtn\" class=\" pepperi-border-top\">\r\n            <div class=\"spacing-element-negative\">\r\n                <button mat-button class=\"spacing-element pepperi-button md strong pull-right flip\"\r\n                    [disabled]=\"!showActionBtn || readonly || disabled\" (click)=\"saveSignModal($event)\"\r\n                    [mat-dialog-close]=\"signatureURL\">\r\n                    {{ 'ACTIONS.DONE' | translate }}\r\n                </button>\r\n                <button mat-button class=\"spacing-element pepperi-button md weak pull-right flip\"\r\n                    [disabled]=\"!showActionBtn || readonly || disabled\" (click)=\"clearSignModal()\">\r\n                    {{ 'ACTIONS.CLEAR' | translate }}\r\n                </button>\r\n            </div>\r\n        </div>\r\n    </ng-template>\r\n\r\n</ng-container>","import {\r\n    Component, OnInit, OnDestroy, ViewChild, Input, Output, EventEmitter, ChangeDetectorRef,\r\n    ChangeDetectionStrategy, OnChanges, ElementRef, Renderer2, TemplateRef\r\n} from '@angular/core';\r\nimport { FormGroup } from '@angular/forms';\r\nimport { SignaturePad } from 'angular2-signaturepad/signature-pad';\r\nimport { FileService, LAYOUT_TYPE, CustomizationService } from '@pepperi-addons/ngx-lib';\r\nimport { DialogService } from '@pepperi-addons/ngx-lib/dialog';\r\n\r\n@Component({\r\n    selector: 'pep-signature',\r\n    styleUrls: ['./signature.component.scss'],\r\n    templateUrl: './signature.component.html',\r\n    changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class PepperiSignatureComponent implements OnInit, OnChanges, OnDestroy {\r\n    @Input() key = '';\r\n    @Input() src = '';\r\n    @Input() label = '';\r\n    @Input() required = false;\r\n    @Input() disabled = false;\r\n    @Input() readonly = false;\r\n    @Input() xAlignment = '0';\r\n    @Input() rowSpan = 1;\r\n    @Input() signatureURL = '';\r\n    // @Input() inDialog = false;\r\n\r\n    controlType = 'signature';\r\n\r\n    @Input() form: FormGroup = null;\r\n    @Input() showTitle = true;\r\n    @Input() layoutType: LAYOUT_TYPE = LAYOUT_TYPE.PepperiForm;\r\n    @Input() isActive = false;\r\n\r\n    @Output() valueChanged: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n    @ViewChild('signaturePad') signaturePad: SignaturePad;\r\n    @ViewChild('signaturePopupPad', { read: TemplateRef }) signaturePopupPad: TemplateRef<any>;\r\n\r\n    LAYOUT_TYPE = LAYOUT_TYPE;\r\n    fieldHeight = '';\r\n    standAlone = false;\r\n    dataURI = null;\r\n    showActionBtn = true;\r\n\r\n    public isVisibleModal = false;\r\n    acceptSignatureType = 'png';\r\n\r\n    public signaturePadOptions: any = {\r\n        // passed through to szimek/signature_pad constructor\r\n        minWidth: 2,\r\n        canvasWidth: 500,\r\n        canvasHeight: 300,\r\n        penColor: 'rgb(151, 151, 151)'\r\n    };\r\n\r\n    constructor(\r\n        private dialogService: DialogService,\r\n        private customizationService: CustomizationService,\r\n        private fileService: FileService,\r\n        private cd: ChangeDetectorRef,\r\n        private renderer: Renderer2,\r\n        private element: ElementRef) {\r\n\r\n    }\r\n\r\n    ngOnInit(): void {\r\n        if (this.form === null) {\r\n            this.standAlone = true;\r\n            this.form = this.customizationService.getDefaultFromGroup(this.key, this.src, this.required, this.readonly, this.disabled);\r\n\r\n            this.renderer.addClass(this.element.nativeElement, CustomizationService.STAND_ALONE_FIELD_CLASS_NAME);\r\n        }\r\n\r\n        this.fieldHeight = this.customizationService.calculateFieldHeight(this.layoutType, this.rowSpan, this.standAlone);\r\n    }\r\n\r\n    ngOnChanges(changes: any): void {\r\n        if (changes.src && changes.src.currentValue.length > 0) {\r\n            // Empty dataURI if there is change in the src.\r\n            this.dataURI = null;\r\n\r\n            // For clean the cache.\r\n            // this.src = this.src ? this.src + '?t=' + new Date().toTimeString() : '';\r\n        }\r\n    }\r\n\r\n    ngOnDestroy(): void {\r\n        if (this.valueChanged) {\r\n            this.valueChanged.unsubscribe();\r\n        }\r\n    }\r\n\r\n    drawComplete(): void {\r\n        // will be notified of szimek/signature_pad's onEnd event\r\n    }\r\n\r\n    drawStart(): void {\r\n        // will be notified of szimek/signature_pad's onBegin event\r\n    }\r\n\r\n    openSignModal(): void {\r\n        // If the signature is not empty open it in image viewer.\r\n        if (this.standAlone && this.dataURI) {\r\n            const fileStrArr = this.dataURI.fileStr.split(';');\r\n\r\n            if (fileStrArr.length === 2) {\r\n                const win = window.open('', '_blank');\r\n                const contentType = fileStrArr[0].split(':')[1];\r\n                const base64 = fileStrArr[1].split(',')[1];\r\n                const blob = this.fileService.convertFromb64toBlob(base64, contentType);\r\n                const url = URL.createObjectURL(blob);\r\n                win.location.href = url;\r\n            }\r\n            // signature allready exits\r\n        } else {\r\n            this.signatureURL = this.src;\r\n            this.openSignatoreDlg(this.signatureURL);\r\n        }\r\n    }\r\n    openSignatoreDlg(src: string = ''): void {\r\n        this.showActionBtn = this.signatureURL && this.signatureURL !== '' ? false : true;\r\n        // const signatureData = new DialogData('', this.signaturePopupPad, DialogDataType.Template);\r\n\r\n        const dialogRef = this.dialogService.openDialog(this.signaturePopupPad);\r\n        dialogRef.afterOpened().subscribe(() => {\r\n            this.afterDialogOpened();\r\n        });\r\n    }\r\n\r\n    afterDialogOpened(): void {\r\n        if (this.signatureURL && this.signatureURL !== '') {\r\n            this.signaturePad.fromDataURL(this.signatureURL);\r\n            this.signaturePad.off();\r\n        }\r\n    }\r\n\r\n    clearSignModal(): void {\r\n        this.signatureURL = '';\r\n        this.signaturePad.clear();\r\n        this.signaturePad.on();\r\n    }\r\n\r\n    deleteSignature(event: any): void {\r\n        this.signatureURL = '';\r\n        this.changeValue(this.signatureURL);\r\n        this.cd.detectChanges();\r\n    }\r\n\r\n    saveSignModal(event: any): void {\r\n        if (!this.signaturePad.isEmpty()) {\r\n            this.signatureURL = this.signaturePad.toDataURL('image/png');\r\n            const fileValue = JSON.stringify({\r\n                acceptedExtensions: this.acceptSignatureType,\r\n                fileStr: this.signatureURL,\r\n                fileExt: this.acceptSignatureType\r\n            });\r\n            this.changeValue(fileValue);\r\n        } else {\r\n            this.signatureURL = '';\r\n            this.changeValue(this.signatureURL);\r\n        }\r\n    }\r\n\r\n    errorHandler(event: any): void {\r\n        this.signatureURL = this.src = ''; // this.blankImage;\r\n    }\r\n\r\n    changeValue(value: any, lastFocusedField: any = null): void {\r\n        this.dataURI = value.length > 0 ? JSON.parse(value) : null;\r\n        this.src = this.standAlone && this.dataURI ? this.dataURI.fileStr : '';\r\n        this.customizationService.updateFormFieldValue(this.form, this.key, this.dataURI ? this.dataURI.fileExt : '');\r\n        this.valueChanged.emit({ apiName: this.key, value, controlType: this.controlType, lastFocusedField });\r\n    }\r\n\r\n    onKeyPress_OpenSignModal(event: any): void {\r\n        const e = event as KeyboardEvent;\r\n\r\n        if ([13, 32].indexOf(e.which) !== -1) {\r\n            this.openSignModal();\r\n        }\r\n        e.preventDefault();\r\n    }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ReactiveFormsModule, FormsModule } from '@angular/forms';\r\n\r\nimport { MatCommonModule } from '@angular/material/core';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatFormFieldModule } from '@angular/material/form-field';\r\nimport { MatInputModule } from '@angular/material/input';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatDialogModule } from '@angular/material/dialog';\r\n\r\nimport { SignaturePadModule } from 'angular2-signaturepad';\r\n\r\nimport { PepperiModule } from '@pepperi-addons/ngx-lib';\r\nimport {\r\n    PepperiIconModule,\r\n    PepperiIconRegistry,\r\n    pepperiIconSystemBin,\r\n    pepperiIconSystemSignature,\r\n    pepperiIconSystemClose\r\n} from '@pepperi-addons/ngx-lib/icon';\r\nimport { PepperiFieldTitleModule } from '@pepperi-addons/ngx-lib/field-title';\r\nimport { PepperiFilesUploaderModule } from '@pepperi-addons/ngx-lib/files-uploader';\r\nimport { PepperiDialogModule } from '@pepperi-addons/ngx-lib/dialog';\r\n\r\nimport { PepperiSignatureComponent } from './signature.component';\r\n\r\n@NgModule({\r\n    imports: [\r\n        CommonModule,\r\n        ReactiveFormsModule,\r\n        FormsModule,\r\n        // Material modules\r\n        MatCommonModule,\r\n        MatButtonModule,\r\n        MatFormFieldModule,\r\n        MatInputModule,\r\n        MatIconModule,\r\n        MatDialogModule,\r\n        // External modules\r\n        SignaturePadModule,\r\n        // Pepperi modules\r\n        PepperiModule,\r\n        PepperiIconModule,\r\n        PepperiFieldTitleModule,\r\n        PepperiFilesUploaderModule,\r\n        PepperiDialogModule\r\n    ],\r\n    exports: [ PepperiSignatureComponent ],\r\n    declarations: [ PepperiSignatureComponent ],\r\n})\r\nexport class PepperiSignatureModule {\r\n    constructor(private pepperiIconRegistry: PepperiIconRegistry) {\r\n        this.pepperiIconRegistry.registerIcons([\r\n            pepperiIconSystemBin,\r\n            pepperiIconSystemSignature,\r\n            pepperiIconSystemClose\r\n        ]);\r\n    }\r\n}\r\n","/*\r\n * Public API Surface of ngx-lib/signature\r\n */\r\nexport * from './signature.module';\r\nexport * from './signature.component';\r\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":["i0.ɵɵelementContainer","i0.ɵɵelementStart","i0.ɵɵlistener","i0.ɵɵelement","i0.ɵɵelementEnd","i0.ɵɵproperty","i0.ɵɵtemplate","i0.ɵɵadvance","i0.ɵɵstyleProp","i0.ɵɵtext","i0.ɵɵtextInterpolate1","i0.ɵɵelementContainerStart","i0.ɵɵelementContainerEnd","i0.ɵɵtextInterpolate","LAYOUT_TYPE","EventEmitter","CustomizationService","TemplateRef","Component","ChangeDetectionStrategy","Input","Output","ViewChild","pepperiIconSystemBin","pepperiIconSystemSignature","pepperiIconSystemClose","CommonModule","ReactiveFormsModule","FormsModule","MatCommonModule","MatButtonModule","MatFormFieldModule","MatInputModule","MatIconModule","MatDialogModule","SignaturePadModule","PepperiModule","PepperiIconModule","PepperiFieldTitleModule","PepperiFilesUploaderModule","PepperiDialogModule","NgModule"],"mappings":"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"}