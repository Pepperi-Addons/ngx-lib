{"version":3,"file":"pepperi-addons-ngx-lib-list.umd.js","sources":["../../../projects/ngx-lib/list/virtual-scroll.component.ts","../../../node_modules/tslib/tslib.es6.js","../../../projects/ngx-lib/list/list.component.html","../../../projects/ngx-lib/list/list.component.ts","../../../projects/ngx-lib/list/list.module.ts","../../../projects/ngx-lib/list/public-api.ts","../../../projects/ngx-lib/list/pepperi-addons-ngx-lib-list.ts"],"sourcesContent":["import { Component, ContentChild, ElementRef, EventEmitter, Input, NgModule, NgZone, OnChanges,\r\n    OnDestroy, OnInit, Output, Renderer2, SimpleChanges, ViewChild } from '@angular/core';\r\n\r\nimport * as tween from '@tweenjs/tween.js';\r\ndeclare var _: any;\r\n\r\nexport interface ChangeEvent {\r\n    start?: number;\r\n    end?: number;\r\n    fromIndex?: number;\r\n    toIndex?: number;\r\n    addAtStart?: boolean;\r\n    calculatedChildHeight?: number;\r\n}\r\n\r\n@Component({\r\n    selector: 'virtual-scroll,[virtualScroll]',\r\n    exportAs: 'virtualScroll',\r\n    template: `\r\n        <div class=\"total-padding\" #shim></div>\r\n        <div class=\"scrollable-content\" #content>\r\n            <ng-content></ng-content>\r\n        </div>\r\n    `,\r\n    host: {\r\n        '[style.overflow-y]': \"parentScroll ? 'hidden' : 'auto'\"\r\n    },\r\n    styles: [\r\n        `\r\n    :host {\r\n        overflow: hidden;\r\n        position: relative;\r\n        display: block;\r\n        -webkit-overflow-scrolling: touch;\r\n    }\r\n    .scrollable-content {\r\n        top: 0;\r\n        left: 0;\r\n        width: 100%;\r\n        height: 100%;\r\n        position: absolute;\r\n        //   z-index:495;\r\n    }\r\n    .total-padding {\r\n        width: 1px;\r\n        opacity: 0;\r\n    }\r\n\r\n    .rtl {\r\n        .scrollable-content {\r\n            left: unset;\r\n            right: 0;\r\n        }\r\n    }\r\n  `\r\n    ]\r\n})\r\nexport class VirtualScrollComponent implements OnInit, OnChanges, OnDestroy {\r\n    //@Input()\r\n    //items: any[] = [];\r\n\r\n    @Input()\r\n    totalRows: number = 0;\r\n\r\n    @Input()\r\n    scrollbarWidth: number;\r\n\r\n    @Input()\r\n    scrollbarHeight: number;\r\n\r\n    @Input()\r\n    childWidth: number;\r\n\r\n    @Input()\r\n    childHeight: number;\r\n\r\n    @Input()\r\n    bufferAmount: number = 0;\r\n\r\n    @Input()\r\n    scrollAnimationTime: number = 1500;\r\n\r\n    @Input()\r\n    doNotCheckAngularZone: boolean = false;\r\n\r\n    private refreshHandler = () => {\r\n        this.refresh(true);\r\n    }\r\n    private _parentScroll: Element | Window;\r\n    @Input()\r\n    set parentScroll(element: Element | Window) {\r\n        if (this._parentScroll === element) {\r\n            return;\r\n        }\r\n        this._parentScroll = element;\r\n        this.addParentEventHandlers(this._parentScroll);\r\n    }\r\n\r\n    get parentScroll(): Element | Window {\r\n        return this._parentScroll;\r\n    }\r\n\r\n    @Input()\r\n    isTable: boolean = false;\r\n\r\n    //@Output()\r\n    //update: EventEmitter<any[]> = new EventEmitter<any[]>();\r\n    //viewPortItems: any[];\r\n\r\n    @Output()\r\n    change: EventEmitter<ChangeEvent> = new EventEmitter<ChangeEvent>();\r\n\r\n    @Output()\r\n    load: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n    @Output()\r\n    start: EventEmitter<ChangeEvent> = new EventEmitter<ChangeEvent>();\r\n\r\n    @Output()\r\n    end: EventEmitter<ChangeEvent> = new EventEmitter<ChangeEvent>();\r\n\r\n    @ViewChild('content', { read: ElementRef })\r\n    contentElementRef: ElementRef;\r\n\r\n    @ViewChild('shim', { read: ElementRef })\r\n    shimElementRef: ElementRef;\r\n\r\n    @ContentChild('container')\r\n    containerElementRef: ElementRef;\r\n\r\n    previousStart: number;\r\n    previousEnd: number;\r\n    startupLoop: boolean = true;\r\n    currentTween: any;\r\n\r\n    private disposeScrollHandler: () => void | undefined;\r\n    private disposeResizeHandler: () => void | undefined;\r\n\r\n    /** Cache of the last scroll height to prevent setting CSS when not needed. */\r\n    private lastScrollHeight = -1;\r\n\r\n    /** Cache of the last top padding to prevent setting CSS when not needed. */\r\n    private lastTopPadding = -1;\r\n\r\n    constructor(public element: ElementRef, private renderer: Renderer2, private zone: NgZone) { }\r\n\r\n    ngOnInit() {\r\n        this.scrollbarWidth = 0; // this.element.nativeElement.offsetWidth - this.element.nativeElement.clientWidth;\r\n        this.scrollbarHeight = 0; // this.element.nativeElement.offsetHeight - this.element.nativeElement.clientHeight;\r\n\r\n        if (!this.parentScroll) {\r\n            this.addParentEventHandlers(this.element.nativeElement);\r\n        }\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        this.removeParentEventHandlers();\r\n    }\r\n\r\n    ngOnChanges(changes: SimpleChanges) {\r\n        this.previousStart = undefined;\r\n        this.previousEnd = undefined;\r\n        const totalRows = (changes as any).totalRows || {};\r\n        if (((changes as any).totalRows !== undefined && totalRows.previousValue === undefined) ||\r\n            totalRows.previousValue !== undefined) {\r\n            this.startupLoop = true;\r\n        }\r\n\r\n        var ieVer = this.detectIE();\r\n        var headerRowHeight = '34px';\r\n\r\n        // Set padding top for the table view because the header row.\r\n        //this.renderer.setStyle(this.contentElementRef.nativeElement, 'padding-top', this.isTable ? headerRowHeight : '0');\r\n\r\n        if (!ieVer || ieVer >= 16) {\r\n            // not IE and version < 16\r\n            this.renderer.setStyle(this.element.nativeElement, 'top', '0');\r\n        } else {\r\n            this.renderer.setStyle(this.element.nativeElement, 'top', headerRowHeight);\r\n        }\r\n\r\n        //Only for IE browsers\r\n        /*  let ua = navigator.userAgent;\r\n        if (this.isTable && (ua.indexOf('MSIE ') >= 0 || ua.indexOf('Trident/') >= 0 || ua.indexOf('Edge/') >= 0)) {\r\n            this.renderer.setStyle(this.element.nativeElement, 'top', headerRowHeight);\r\n        }\r\n        else {\r\n            this.renderer.setStyle(this.element.nativeElement, 'top', '0');\r\n        }*/\r\n\r\n        this.refresh();\r\n    }\r\n\r\n    detectIE(): any {\r\n        var ua = window.navigator.userAgent;\r\n\r\n        // Test values; Uncomment to check result â€¦\r\n\r\n        // IE 10\r\n        // ua = 'Mozilla/5.0 (compatible; MSIE 10.0; Windows NT 6.2; Trident/6.0)';\r\n\r\n        // IE 11\r\n        // ua = 'Mozilla/5.0 (Windows NT 6.3; Trident/7.0; rv:11.0) like Gecko';\r\n\r\n        // Edge 12 (Spartan)\r\n        // ua = 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/39.0.2171.71 Safari/537.36 Edge/12.0';\r\n\r\n        // Edge 13\r\n        // ua = 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/46.0.2486.0 Safari/537.36 Edge/13.10586';\r\n\r\n        var msie = ua.indexOf('MSIE ');\r\n        if (msie > 0) {\r\n            // IE 10 or older => return version number\r\n            return parseInt(ua.substring(msie + 5, ua.indexOf('.', msie)), 10);\r\n        }\r\n\r\n        var trident = ua.indexOf('Trident/');\r\n        if (trident > 0) {\r\n            // IE 11 => return version number\r\n            var rv = ua.indexOf('rv:');\r\n            return parseInt(ua.substring(rv + 3, ua.indexOf('.', rv)), 10);\r\n        }\r\n\r\n        var edge = ua.indexOf('Edge/');\r\n        if (edge > 0) {\r\n            // Edge (IE 12+) => return version number\r\n            return parseInt(ua.substring(edge + 5, ua.indexOf('.', edge)), 10);\r\n        }\r\n\r\n        // other browser\r\n        return false;\r\n    }\r\n\r\n    refresh(forceViewportUpdate: boolean = false) {\r\n        this.zone.runOutsideAngular(() => {\r\n            requestAnimationFrame(() => this.calculateItems(forceViewportUpdate));\r\n        });\r\n    }\r\n\r\n    scrollInto(index: any) {\r\n        let el: Element = this.parentScroll instanceof Window ? document.body : this.parentScroll || this.element.nativeElement;\r\n        let offsetTop = this.getElementsOffset();\r\n        //let index: number = (this.items || []).indexOf(item);\r\n        if (index < 0 || index >= this.totalRows) return;\r\n\r\n        let d = this.calculateDimensions();\r\n        let scrollTop = Math.floor(index / d.itemsPerRow) * d.childHeight - d.childHeight * Math.min(index, this.bufferAmount);\r\n\r\n        let animationRequest;\r\n\r\n        if (this.currentTween !== undefined) { this.currentTween.stop(); }\r\n\r\n        // totally disable animate\r\n        if (!this.scrollAnimationTime) {\r\n            el.scrollTop = scrollTop;\r\n            return;\r\n        }\r\n\r\n        this.currentTween = new tween.Tween({ scrollTop: el.scrollTop })\r\n            .to({ scrollTop }, this.scrollAnimationTime)\r\n            .easing(tween.Easing.Quadratic.Out)\r\n            .onUpdate(data => {\r\n                if (isNaN(data.scrollTop)) {\r\n                    return;\r\n                }\r\n                this.renderer.setProperty(el, 'scrollTop', data.scrollTop);\r\n                this.refresh(true);\r\n            })\r\n            .onStop(() => {\r\n                cancelAnimationFrame(animationRequest);\r\n            })\r\n            .start();\r\n\r\n        const animate = (time?) => {\r\n            this.currentTween.update(time);\r\n            if (this.currentTween._object.scrollTop !== scrollTop) {\r\n                this.zone.runOutsideAngular(() => {\r\n                    animationRequest = requestAnimationFrame(animate);\r\n                });\r\n            }\r\n        };\r\n\r\n        animate();\r\n    }\r\n\r\n    private addParentEventHandlers(parentScroll: Element | Window) {\r\n        this.removeParentEventHandlers();\r\n        if (parentScroll) {\r\n            this.zone.runOutsideAngular(() => {\r\n                this.disposeScrollHandler = this.renderer.listen(parentScroll, 'mousewheel', _.throttle(this.refreshHandler, 20, { leading: false, trailing: true }));\r\n                this.renderer.listen(parentScroll, 'scroll', _.debounce(this.refreshHandler, 150));\r\n\r\n                //this.renderer.listen(parentScroll, 'scroll', _.debounce(_.throttle(this.refreshHandler, 150), 50));\r\n\r\n                if (parentScroll instanceof Window) {\r\n                    this.disposeScrollHandler = this.renderer.listen('window', 'resize', _.debounce(this.refreshHandler, 250));\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    private removeParentEventHandlers() {\r\n        if (this.disposeScrollHandler) {\r\n            this.disposeScrollHandler();\r\n            this.disposeScrollHandler = undefined;\r\n        }\r\n        if (this.disposeResizeHandler) {\r\n            this.disposeResizeHandler();\r\n            this.disposeResizeHandler = undefined;\r\n        }\r\n    }\r\n\r\n    private countItemsPerRow() {\r\n        let offsetTop;\r\n        let itemsPerRow;\r\n        let children = this.contentElementRef.nativeElement.children;\r\n        for (itemsPerRow = 0; itemsPerRow < children.length; itemsPerRow++) {\r\n            if (offsetTop != undefined && offsetTop !== children[itemsPerRow].offsetTop) break;\r\n            offsetTop = children[itemsPerRow].offsetTop;\r\n        }\r\n        return itemsPerRow;\r\n    }\r\n\r\n    private getElementsOffset(): number {\r\n        let offsetTop = 0;\r\n        if (this.containerElementRef && this.containerElementRef.nativeElement) {\r\n            offsetTop += this.containerElementRef.nativeElement.offsetTop;\r\n        }\r\n        if (this.parentScroll) {\r\n            offsetTop += this.element.nativeElement.offsetTop;\r\n        }\r\n        return offsetTop;\r\n    }\r\n\r\n    private calculateDimensions() {\r\n        let el: Element = this.parentScroll instanceof Window ? document.body : this.parentScroll || this.element.nativeElement;\r\n        let itemCount = this.totalRows;\r\n        let viewWidth = el.clientWidth - this.scrollbarWidth;\r\n        let viewHeight = el.clientHeight - this.scrollbarHeight;\r\n\r\n        let contentDimensions;\r\n        if (this.childWidth == undefined || this.childHeight == undefined) {\r\n            let content = this.contentElementRef.nativeElement;\r\n            if (this.containerElementRef && this.containerElementRef.nativeElement) {\r\n                content = this.containerElementRef.nativeElement;\r\n            }\r\n            contentDimensions = content.children[0]\r\n                ? content.children[0].getBoundingClientRect()\r\n                : {\r\n                    width: viewWidth,\r\n                    height: viewHeight\r\n                };\r\n        }\r\n\r\n        let childWidth = this.childWidth || contentDimensions.width;\r\n        let childHeight = this.childHeight || contentDimensions.height;\r\n\r\n        let itemsPerRow = Math.max(1, this.countItemsPerRow());\r\n        let itemsPerRowByCalc = Math.max(1, Math.floor(viewWidth / childWidth));\r\n        let itemsPerCol = Math.max(1, Math.floor(viewHeight / childHeight));\r\n        let elScrollTop = this.parentScroll instanceof Window ? window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0 : el.scrollTop;\r\n        let scrollTop = Math.max(0, elScrollTop);\r\n\r\n        var scrollHeight = childHeight * Math.floor(itemCount / itemsPerRow) + (itemCount % itemsPerRow != 0 ? childHeight : 0);\r\n\r\n        let ua = navigator.userAgent;\r\n        /*if (this.isTable && (ua.indexOf('MSIE ') >= 0 || ua.indexOf('Trident/') >= 0 || ua.indexOf('Edge/') >= 0)) {\r\n            scrollHeight += 34;\r\n        }*/\r\n        if (itemsPerCol === 1 && Math.floor((scrollTop / scrollHeight) * itemCount) + itemsPerRowByCalc >= itemCount) {\r\n            itemsPerRow = itemsPerRowByCalc;\r\n        }\r\n\r\n        if (scrollHeight !== this.lastScrollHeight) {\r\n            this.renderer.setStyle(this.shimElementRef.nativeElement, 'height', `${scrollHeight}px`);\r\n            this.lastScrollHeight = scrollHeight;\r\n        }\r\n\r\n        return {\r\n            itemCount: itemCount,\r\n            viewWidth: viewWidth,\r\n            viewHeight: viewHeight,\r\n            childWidth: childWidth,\r\n            childHeight: childHeight,\r\n            itemsPerRow: itemsPerRow,\r\n            itemsPerCol: itemsPerCol,\r\n            itemsPerRowByCalc: itemsPerRowByCalc,\r\n            scrollHeight\r\n        };\r\n    }\r\n\r\n    private calculateItems(forceViewportUpdate: boolean = false) {\r\n        if (!this.doNotCheckAngularZone) {\r\n            NgZone.assertNotInAngularZone();\r\n        }\r\n\r\n        let el = this.parentScroll instanceof Window ? document.body : this.parentScroll || this.element.nativeElement;\r\n        let d = this.calculateDimensions();\r\n\r\n        //let items = this.items || [];\r\n        let offsetTop = this.getElementsOffset();\r\n        let elScrollTop = this.parentScroll instanceof Window ? window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0 : el.scrollTop;\r\n\r\n        if (elScrollTop > d.scrollHeight) {\r\n            elScrollTop = d.scrollHeight + offsetTop;\r\n        }\r\n\r\n        let scrollTop = Math.max(0, elScrollTop - offsetTop);\r\n        let indexByScrollTop = ((scrollTop / d.scrollHeight) * d.itemCount) / d.itemsPerRow;\r\n        let end = Math.min(d.itemCount, Math.ceil(indexByScrollTop) * d.itemsPerRow + d.itemsPerRow * (d.itemsPerCol + 1));\r\n\r\n        let maxStartEnd = end;\r\n        const modEnd = end % d.itemsPerRow;\r\n        if (modEnd) {\r\n            maxStartEnd = end + d.itemsPerRow - modEnd;\r\n        }\r\n        let maxStart = Math.max(0, maxStartEnd - d.itemsPerCol * d.itemsPerRow - d.itemsPerRow);\r\n        let start = Math.min(maxStart, Math.floor(indexByScrollTop) * d.itemsPerRow);\r\n\r\n        let startRow = Math.ceil(start / d.itemsPerRow);\r\n\r\n        const topPadding = this.totalRows === 0 ? 0 : d.childHeight * startRow - d.childHeight * Math.min(startRow, this.bufferAmount);\r\n\r\n        if (topPadding !== this.lastTopPadding) {\r\n            this.renderer.setStyle(this.contentElementRef.nativeElement, 'transform', `translateY(${topPadding}px)`);\r\n            this.renderer.setStyle(this.contentElementRef.nativeElement, 'webkitTransform', `translateY(${topPadding}px)`);\r\n            this.lastTopPadding = topPadding;\r\n        }\r\n\r\n        let buffer = this.bufferAmount * d.itemsPerRow;\r\n        start = !isNaN(start) ? start : -1;\r\n        end = !isNaN(end) ? end : -1;\r\n        start -= buffer;\r\n        start = Math.max(0, start);\r\n        end += buffer;\r\n        end = Math.min(this.totalRows, end);\r\n\r\n        if (start !== this.previousStart || end !== this.previousEnd || forceViewportUpdate === true) {\r\n            this.zone.run(() => {\r\n                // update the scroll list\r\n                end = end >= 0 ? end : 0; // To prevent from accidentally selecting the entire array with a negative 1 (-1) in the end position.\r\n\r\n                //this.viewPortItems = this.items.slice(start, end);\r\n                //this.update.emit(this.viewPortItems);\r\n\r\n                // emit 'start' event\r\n                //if (start !== this.previousStart && this.startupLoop === false) {\r\n                //    this.start.emit({ start, end });\r\n                //}\r\n\r\n                // emit 'end' event\r\n                //if (end !== this.previousEnd && this.startupLoop === false) {\r\n                //    this.end.emit({ start, end });\r\n                //}\r\n\r\n                // To know if to add at the start of the list or at the end.\r\n                let addAtStart = this.previousEnd >= end;\r\n                this.previousStart = start;\r\n                this.previousEnd = end;\r\n\r\n                if (this.startupLoop === true) {\r\n                    this.refresh();\r\n                } else {\r\n                    let calculatedChildHeight = d.childHeight;\r\n                    this.change.emit({ start, end, addAtStart, calculatedChildHeight });\r\n                }\r\n            });\r\n        } else if (this.startupLoop === true) {\r\n            this.startupLoop = false;\r\n            // Added to know when the scroll is ready (UI elements are displayed already).\r\n            this.load.emit(); \r\n            this.refresh();\r\n        }\r\n    }\r\n}\r\n\r\n@NgModule({\r\n    exports: [VirtualScrollComponent],\r\n    declarations: [VirtualScrollComponent]\r\n})\r\nexport class VirtualScrollModule { }\r\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","<ng-container *ngIf=\"totalRows == 0\">\r\n    <div class=\"no-data\">{{ noDataFoundMsg }}</div>\r\n</ng-container>\r\n<ng-container *ngIf=\"totalRows > 0\">\r\n    <!--\r\n            appDebounceMouseMove\r\n            [debounceTime]=\"10\"\r\n            (debounceMouseMove)=\"onListResize($event)\" -->\r\n    <div *ngIf=\"isTable\" #tableHeader class=\"table-header\"\r\n        [ngClass]=\"{ 'below-header-and-top-bar' : parentScroll == null }\" (mouseup)=\"onListResizeEnd($event)\"\r\n        (mouseenter)=\"onListHeaderMouseEnter($event)\" (mouseleave)=\"onListHeaderMouseLeave($event)\"\r\n        (mousemove)=\"onListResize($event)\">\r\n        <fieldset class=\"table-header-fieldset\">\r\n            <mat-checkbox *ngIf=\"selectionTypeForActions !== SELECTION_TYPE_FOR_ACTIONS.None\" #selectAllCB\r\n                class=\"pull-left flip row-selection\" type=\"checkbox\" [ngStyle]=\"{\r\n                        visibility:\r\n                            selectionTypeForActions == SELECTION_TYPE_FOR_ACTIONS.Single || (selectionTypeForActions == SELECTION_TYPE_FOR_ACTIONS.Multi && hideAllSelectionInMulti) ? 'hidden' : 'visible'\r\n                    }\"\r\n                [indeterminate]=\"isAllSelected ? unSelectedItems.size > 0 && unSelectedItems.size < totalRows : (selectedItems.size > 0 && !getIsAllSelectedForActions())\"\r\n                [disabled]=\"disabled || selectionTypeForActions === SELECTION_TYPE_FOR_ACTIONS.Single\"\r\n                [checked]=\"getIsAllSelectedForActions()\" (change)=\"selectAllItemsForActions($event)\"></mat-checkbox>\r\n            <fieldset>\r\n                <div *ngFor=\"let field of uiControl?.ControlFields; let j = index\" class=\"header-column pull-left flip\"\r\n                    [ngStyle]=\"{ width: field.calcTitleColumnWidthString }\" [ngClass]=\"{\r\n                            'support-sorting': supportSorting,\r\n                            'has-sorting': field.ApiName === sortBy,\r\n                            'is-resizing': field.ApiName === pressedColumn,\r\n                            'is-first': j === 0 && selectionTypeForActions !== SELECTION_TYPE_FOR_ACTIONS.Multi,\r\n                            'is-last': j === uiControl?.ControlFields?.length - 1\r\n                        }\"\r\n                    (click)=\"supportSorting ? (onListSortingChange(field.ApiName, sortBy !== null && sortBy != field.ApiName ? true : !isAsc, $event)) : false\">\r\n\r\n                    <label *ngIf=\"field.Title != ''\" id=\"{{ field.ApiName }}\"\r\n                        class=\"header-label body-sm pull-left flip text-align-{{ field.Layout.XAlignment }}\"\r\n                        title=\"{{ field.Title }}\">\r\n                        {{ field.Title }}\r\n                    </label>\r\n                    <!-- (click)=\"onListSortingChange(field.ApiName, sortBy !== null && sortBy != field.ApiName ? true : !isAsc)\" -->\r\n                    <label *ngIf=\"field.Title == ''\" id=\"{{ field.ApiName }}\"\r\n                        class=\"header-label body-sm pull-left flip\">&nbsp;</label>\r\n\r\n                    <div *ngIf=\"supportResizing\" class=\"resizeBox pull-right flip\"\r\n                        (mousedown)=\"onListResizeStart($event, field.ApiName)\">\r\n                        <mat-icon>\r\n                            <pep-icon name=\"arrow-up\" class=\"asc\"></pep-icon>\r\n                        </mat-icon>\r\n                    </div>\r\n\r\n                    <!-- The onListSortingChange moved to the column click -->\r\n                    <!-- (click)=\"onListSortingChange(field.ApiName, true)\" -->\r\n                    <div *ngIf=\"supportSorting\" class=\"sortingBox pull-left flip\"\r\n                        [ngClass]=\"{ 'has-sorting': field.ApiName === sortBy }\">\r\n                        <mat-icon *ngIf=\"field.ApiName !== sortBy\">\r\n                            <pep-icon name=\"arrow-either\" class=\"asc\"></pep-icon>\r\n                        </mat-icon>\r\n\r\n                        <mat-icon *ngIf=\"field.ApiName === sortBy && !isAsc\"\r\n                            [ngClass]=\"{ 'sort-by': field.ApiName === sortBy && isAsc }\"\r\n                            title=\"{{ 'LIST.SORT_ASC' | translate }}\">\r\n                            <pep-icon name=\"arrow-down\" class=\"asc\"></pep-icon>\r\n                        </mat-icon>\r\n                        <mat-icon *ngIf=\"field.ApiName === sortBy && isAsc\"\r\n                            [ngClass]=\"{ 'sort-by': field.ApiName === sortBy && !isAsc }\"\r\n                            title=\"{{ 'LIST.SORT_DESC' | translate }}\">\r\n                            <pep-icon name=\"arrow-down\" class=\"desc\"></pep-icon>\r\n                        </mat-icon>\r\n                    </div>\r\n                </div>\r\n            </fieldset>\r\n        </fieldset>\r\n    </div>\r\n\r\n    <virtual-scroll *ngIf=\"useVirtualScroll\" [totalRows]=\"totalRows\" [isTable]=\"isTable\" (load)=\"onListLoad($event)\"\r\n        (change)=\"onListChange($event)\" [parentScroll]=\"parentScroll ? parentScroll : nativeWindow\"\r\n        [bufferAmount]=\"isReport ? (isTable ? 20 : 3) : isTable ? 15 : 3\"\r\n        [ngClass]=\"{ 'table-body': isTable, 'cards-body': !isTable }\">\r\n        <ng-container *ngTemplateOutlet=\"listData\"></ng-container>\r\n    </virtual-scroll>\r\n\r\n    <!-- <virtual-scroller *ngIf=\"useVirtualScroll\" [totalItems]=\"totalRows\" (vsChange)=\"onScrollerListChange($event)\"\r\n        [parentScroll]=\"parentScroll ? parentScroll : nativeWindow\"\r\n        [ngClass]=\"{ 'table-body': isTable, 'cards-body': !isTable }\">\r\n        <ng-container *ngTemplateOutlet=\"listData\"></ng-container>\r\n    </virtual-scroller> -->\r\n\r\n    <div #noVirtualScrollCont *ngIf=\"!useVirtualScroll\" [ngClass]=\"{ 'table-body': isTable, 'cards-body': !isTable }\">\r\n        <ng-container *ngTemplateOutlet=\"listData\"></ng-container>\r\n    </div>\r\n    <ng-container *ngTemplateOutlet=\"listTotals\"></ng-container>\r\n</ng-container>\r\n\r\n<!-- <img style=\"display:none;\" src=\"{{ envVariables.AssetsDomain + webappDirectory }}/assets/images/no-image.svg\" /> -->\r\n\r\n<ng-template #listData>\r\n    <ng-container *ngFor=\"let pepperiObjectInput of scrollItems; let index; let isFirst = first; trackBy: trackByFunc\">\r\n        <ng-container *ngIf=\"isTable\">\r\n            <div class=\"table-row\"\r\n                (mouseenter)=\"onTableRowMouseEnter($event, pepperiObjectInput?.Data?.UID, pepperiObjectInput?.Data?.Type)\"\r\n                (mouseleave)=\"onTableRowMouseLeave($event, pepperiObjectInput?.Data?.UID, pepperiObjectInput?.Data?.Type)\"\r\n                [ngClass]=\"{\r\n                        selected: isItemSelected(pepperiObjectInput?.Data?.UID, pepperiObjectInput?.Data?.Type),\r\n                        highlighted: pepperiObjectInput?.Data?.UID + SEPARATOR + pepperiObjectInput?.Data?.Type === selectedItemId\r\n                    }\"\r\n                [ngStyle]=\"{ height: calculatedObjectHeight, visibility: showItems || pepperiObjectInput ? 'visible' : 'hidden' }\">\r\n                <fieldset class=\"table-row-fieldset\"\r\n                    [ngStyle]=\"{ 'background-color': pepperiObjectInput?.Data?.BackgroundColor }\">\r\n                    <mat-checkbox\r\n                        *ngIf=\"selectionTypeForActions == SELECTION_TYPE_FOR_ACTIONS.Multi || selectionTypeForActions == SELECTION_TYPE_FOR_ACTIONS.SingleAction\"\r\n                        type=\"checkbox\" class=\"pull-left flip row-selection\"\r\n                        [disabled]=\"getIsDisabled(pepperiObjectInput)\" [ngStyle]=\"{\r\n                                visibility: isTouchDevice ||\r\n                                    pepperiObjectInput?.Data?.UID + SEPARATOR + pepperiObjectInput?.Data?.Type === hoveredItemId || isAllSelected || selectedItems.size > 0 ? 'visible' : 'hidden'\r\n                            }\"\r\n                        [checked]=\"getIsSelectedForActions(pepperiObjectInput?.Data?.UID, pepperiObjectInput?.Data?.IsSelectableForActions, pepperiObjectInput?.Data?.Type)\"\r\n                        (change)=\"selectItemForActions($event, pepperiObjectInput?.Data?.UID, pepperiObjectInput?.Data?.IsSelectableForActions, pepperiObjectInput?.Data?.Type)\">\r\n                    </mat-checkbox>\r\n                    <mat-radio-button *ngIf=\"selectionTypeForActions == SELECTION_TYPE_FOR_ACTIONS.Single\"\r\n                        name=\"selection\" class=\"pull-left flip row-selection pepperi-radio-button\"\r\n                        [disabled]=\"getIsDisabled(pepperiObjectInput)\"\r\n                        [checked]=\"getIsSelectedForActions(pepperiObjectInput?.Data?.UID, pepperiObjectInput?.Data?.IsSelectableForActions, pepperiObjectInput?.Data?.Type)\"\r\n                        (change)=\"selectItemForActions($event, pepperiObjectInput?.Data?.UID, pepperiObjectInput?.Data?.IsSelectableForActions, pepperiObjectInput?.Data?.Type)\">\r\n                    </mat-radio-button>\r\n                    <pep-form [checkForChanges]=\"checkForChanges\" [uiControlHeader]=\"uiControl\"\r\n                        [firstFieldAsLink]=\"firstFieldAsLink\" [pepperiObjectInput]=\"pepperiObjectInput\"\r\n                        [canEditObject]=\"!disabled && pepperiObjectInput?.IsEditable\" [objectId]=\"objectId\"\r\n                        [parentId]=\"parentId\" [searchCode]=\"searchCode\" [lockEvents]=\"disableSelectionItems\"\r\n                        [isReport]=\"isReport\" [layoutType]=\"LAYOUT_TYPE.PepperiTable\" [listType]=\"listType\" [isActive]=\"\r\n                                (pepperiObjectInput?.Data?.UID + SEPARATOR + pepperiObjectInput?.Data?.Type === selectedItemId ||\r\n                                pepperiObjectInput?.Data?.UID + SEPARATOR + pepperiObjectInput?.Data?.Type === hoveredItemId) && !isTouchDevice\r\n                            \" (notifyValueChanged)=\"onValueChanged($event)\"\r\n                        (notifyFieldClicked)=\"onCustomizeFieldClick($event)\"\r\n                        (notifyMenuItemClicked)=\"onCustomizeFieldMenuClicked($event)\"\r\n                        (click)=\"itemClicked($event, pepperiObjectInput)\" [pageType]=\"pageType\">\r\n                    </pep-form>\r\n                </fieldset>\r\n            </div>\r\n        </ng-container>\r\n\r\n        <ng-container *ngIf=\"!isTable\">\r\n            <div [class]=\"itemClass\"\r\n                (mouseenter)=\"onCardMouseEnter($event, pepperiObjectInput?.Data?.UID, pepperiObjectInput?.Data?.Type)\"\r\n                (mouseleave)=\"onCardMouseLeave($event, pepperiObjectInput?.Data?.UID, pepperiObjectInput?.Data?.Type)\"\r\n                [ngClass]=\"{\r\n                        selected: isItemSelected(pepperiObjectInput?.Data?.UID, pepperiObjectInput?.Data?.Type),\r\n                        highlighted: pepperiObjectInput?.Data?.UID + SEPARATOR + pepperiObjectInput?.Data?.Type === selectedItemId,\r\n                        cardView: isCardView\r\n                    }\" class=\"pull-left flip\"\r\n                [ngStyle]=\"{ height: calculatedObjectHeight, visibility: showItems || pepperiObjectInput ? 'visible' : 'hidden' }\">\r\n                <mat-checkbox *ngIf=\"showSelection\" class=\"pull-left flip card-selection\"\r\n                    [disabled]=\"getIsDisabled(pepperiObjectInput)\"\r\n                    [checked]=\"getIsSelectedForActions(pepperiObjectInput?.Data?.UID, pepperiObjectInput?.Data?.IsSelectableForActions, pepperiObjectInput?.Data?.Type)\"\r\n                    (change)=\"selectItemForActions($event, pepperiObjectInput?.Data?.UID, pepperiObjectInput?.Data?.IsSelectableForActions, pepperiObjectInput?.Data?.Type)\">\r\n                </mat-checkbox>\r\n                <pep-form [firstFieldAsLink]=\"isCardView ? firstFieldAsLink : false\" [checkForChanges]=\"checkForChanges\"\r\n                    [uiControlHeader]=\"uiControl\" [pepperiObjectInput]=\"pepperiObjectInput\" [isCardView]=\"isCardView\"\r\n                    [canEditObject]=\"!disabled && pepperiObjectInput?.IsEditable\" [objectId]=\"objectId\"\r\n                    [parentId]=\"parentId\" [searchCode]=\"searchCode\" [lockEvents]=\"disableSelectionItems\"\r\n                    [layoutType]=\"getThumbnailsLayout()\" [listType]=\"listType\" [isActive]=\"\r\n                            (pepperiObjectInput?.Data?.UID + SEPARATOR + pepperiObjectInput?.Data?.Type === selectedItemId ||\r\n                                pepperiObjectInput?.Data?.UID + SEPARATOR + pepperiObjectInput?.Data?.Type === hoveredItemId) && !isTouchDevice\r\n                        \" (notifyValueChanged)=\"onValueChanged($event)\"\r\n                    (notifyFieldClicked)=\"onCustomizeFieldClick($event)\"\r\n                    (notifyMenuItemClicked)=\"onCustomizeFieldMenuClicked($event)\"\r\n                    (click)=\"itemClicked($event, pepperiObjectInput)\" [pageType]=\"pageType\">\r\n                </pep-form>\r\n            </div>\r\n        </ng-container>\r\n    </ng-container>\r\n</ng-template>\r\n\r\n<ng-template #listTotals>\r\n    <div *ngIf=\"totalsRow?.length > 0 && totalsRow.length <= uiControl?.ControlFields.length\" class=\"table-total\">\r\n        <fieldset class=\"table-header-fieldset\">\r\n            <div *ngFor=\"let field of uiControl?.ControlFields; let j = index\" class=\"total-column pull-left flip\"\r\n                [ngStyle]=\"{ width: field.calcTitleColumnWidthString }\">\r\n                <label class=\"total-label body-sm text-align-{{ field.Layout.XAlignment }}\">\r\n                    {{ totalsRow[j] }}\r\n                </label>\r\n            </div>\r\n        </fieldset>\r\n    </div>\r\n</ng-template>","import {\r\n    Component, Input, Output, EventEmitter, OnInit, Renderer2, ViewChild, ElementRef,\r\n    ChangeDetectorRef, OnDestroy, OnChanges\r\n} from '@angular/core';\r\nimport { delay } from 'rxjs/operators';\r\nimport {\r\n    LAYOUT_TYPE, LayoutService, ObjectSingleData, UIControl, UIControlField,\r\n    FIELD_TYPE, ObjectsDataRow, SCREEN_SIZE, PepperiObjectChangedData, PepperiFieldClickedData\r\n} from '@pepperi-addons/ngx-lib';\r\nimport { VirtualScrollComponent, ChangeEvent } from './virtual-scroll.component';\r\n\r\nimport disableScroll from 'disable-scroll';\r\n\r\n// import { ApplicationState } from '../application-state/application-state';\r\n\r\nimport * as $ from 'jquery';\r\n\r\nexport enum SELECTION_TYPE_FOR_ACTIONS {\r\n    None,\r\n    Single,\r\n    Multi,\r\n    SingleAction\r\n}\r\nexport enum VIEW_TYPE {\r\n    None,\r\n    Card,\r\n    Line,\r\n    Table,\r\n    Map\r\n}\r\n\r\nexport interface ChangeSortingEvent {\r\n    sortBy: string;\r\n    isAsc: boolean;\r\n}\r\n\r\nexport class SelectionData {\r\n    selectionType: number;\r\n    rows: Array<any>;\r\n    rowTypes: Array<any>;\r\n}\r\n\r\n@Component({\r\n    selector: 'pep-list',\r\n    templateUrl: './list.component.html',\r\n    styleUrls: ['./list.component.scss'],\r\n    host: {\r\n        // '[style.width]': \"'inherit'\",\r\n        '(document:mousedown)': 'onMouseDown($event)',\r\n        '(window:resize)': 'winResize($event)'\r\n        // '(window:mouseup)': 'onListResizeEnd($event)',\r\n        // '(window:mousemove)': 'onListResize($event)'\r\n    }\r\n    // changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class PepperiListComponent implements OnInit, OnChanges, OnDestroy {\r\n    static TOP_ITEMS_DEFAULT = 100;\r\n    static TOP_ITEMS_TABLE = 100;\r\n    static TOP_ITEMS_THUMBNAILS = 100;\r\n    static TOP_ITEMS_ARRAY = 2500;\r\n\r\n    static SELECTED_ITEMS_STATE_KEY = 'SelectedItems';\r\n    static UN_SELECTED_ITEMS_STATE_KEY = 'UnSelectedItems';\r\n    static ALL_SELECTED_STATE_KEY = 'AllSelected';\r\n    static SORT_BY_STATE_KEY = 'SortBy';\r\n    static ASCENDING_STATE_KEY = 'IsAscending';\r\n\r\n    static MINIMUM_COLUMN_WIDTH = 48;\r\n\r\n    @Input() currentListTypeTranslation = '';\r\n    @Input() noDataFoundMsg = 'Items not found';\r\n    @Input() selectionTypeForActions: SELECTION_TYPE_FOR_ACTIONS = SELECTION_TYPE_FOR_ACTIONS.Multi;\r\n    @Input() hideAllSelectionInMulti = false;\r\n\r\n    @Input() top = -1;\r\n    @Input() listType = '';\r\n    @Input() objectId = '0';\r\n    @Input() parentId = '0';\r\n    @Input() searchCode = '0';\r\n    // @Input() showTopBorder = false;\r\n    @Input() firstFieldAsLink = false;\r\n    @Input() supportSorting = true;\r\n    @Input() supportResizing = true;\r\n    @Input() parentScroll: Element | Window = null;\r\n    @Input() disabled = false;\r\n    @Input() isPrinting = false;\r\n    @Input() disableSelectionItems = false;\r\n    @Input() isReport = false;\r\n    @Input() layoutType: LAYOUT_TYPE = null;\r\n    @Input() pageType = '';\r\n    @Input() totalsRow = [];\r\n    @Input() isTouchDevice = false;\r\n\r\n    @Output() notifyThumbnailClicked: EventEmitter<ObjectSingleData> = new EventEmitter<ObjectSingleData>();\r\n    @Output() notifyFieldClicked: EventEmitter<any> = new EventEmitter<PepperiFieldClickedData>();\r\n    @Output() notifyMenuItemClicked: EventEmitter<any> = new EventEmitter<PepperiFieldClickedData>();\r\n    @Output() notifyValueChanged: EventEmitter<PepperiObjectChangedData> = new EventEmitter<PepperiObjectChangedData>();\r\n    @Output() notifyListChanged: EventEmitter<ChangeEvent> = new EventEmitter<ChangeEvent>();\r\n    @Output() notifySortingChanged: EventEmitter<ChangeSortingEvent> = new EventEmitter<ChangeSortingEvent>();\r\n\r\n    @Output() notifySelectedItemsChanged: EventEmitter<number> = new EventEmitter<number>();\r\n    @Output() notifySelectAllSingleActionClicked: EventEmitter<any> = new EventEmitter<any>();\r\n    @Output() notifySingleActionClicked: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n    @Output() notifyListLoad: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n    @ViewChild(VirtualScrollComponent) virtualScroll: VirtualScrollComponent;\r\n    @ViewChild('noVirtualScrollCont') noVirtualScrollCont: ElementRef;\r\n    @ViewChild('tableHeader') tableHeader: ElementRef;\r\n    @ViewChild('selectAllCB') selectAllCB: any;\r\n\r\n    LAYOUT_TYPE = LAYOUT_TYPE;\r\n    SELECTION_TYPE_FOR_ACTIONS = SELECTION_TYPE_FOR_ACTIONS;\r\n\r\n    public uiControl: UIControl = null;\r\n    public totalRows = -1;\r\n    itemClass: string;\r\n    isTable = false;\r\n    private hasColumnWidthOfTypePercentage = true;\r\n    public items: Array<ObjectSingleData> = null;\r\n    public showSelection = false;\r\n    isCardView = false;\r\n    private itemsCounter = 0;\r\n    showItems = true;\r\n    scrollItems: Array<ObjectSingleData>;\r\n\r\n    public SEPARATOR = ',';\r\n    public isAllSelected = false;\r\n    public selectedItems = new Map<string, string>();\r\n    public unSelectedItems = new Map<string, string>();\r\n\r\n    // public tableHeaderWidth: string;\r\n    nativeWindow: any = null;\r\n\r\n    selectedItemId = '';\r\n    hoveredItemId = '';\r\n\r\n    private lockEvents = false;\r\n    private containerWidth = 0;\r\n\r\n    screenSize: SCREEN_SIZE;\r\n\r\n    // headerIsInFocus = false;\r\n\r\n    // For resize\r\n    pressedColumn = '';\r\n    startX = 0;\r\n    startWidth = 0;\r\n    tableStartWidth = 0;\r\n\r\n    // For sorting\r\n    isAsc = true;\r\n    sortBy = '';\r\n    isUserSelected = false;\r\n    checkForChanges: any = null;\r\n    useVirtualScroll = true;\r\n    calculatedObjectHeight: string;\r\n\r\n    constructor(\r\n        private element: ElementRef,\r\n        private layoutService: LayoutService,\r\n        private cd: ChangeDetectorRef,\r\n        private renderer: Renderer2,\r\n        // private state: ApplicationState\r\n    ) {\r\n        this.layoutService.onResize$\r\n            .pipe(delay(0))\r\n            .subscribe(size => {\r\n                this.screenSize = size;\r\n            });\r\n\r\n        // this.checkForChanges = new Date().getTime();\r\n        // this.state.stateKey = location.href;\r\n        this.nativeWindow = window;\r\n    }\r\n\r\n    ngOnInit(): void {\r\n        this.containerWidth = 0;\r\n    }\r\n\r\n    ngOnChanges(changes): void {\r\n        if (this.containerWidth <= 0) {\r\n            this.setContainerWidth();\r\n        }\r\n    }\r\n\r\n    ngOnDestroy(): void {\r\n        if (this.notifyValueChanged) {\r\n            this.notifyValueChanged.unsubscribe();\r\n        }\r\n\r\n        if (this.notifyListChanged) {\r\n            this.notifyListChanged.unsubscribe();\r\n        }\r\n\r\n        if (this.notifySortingChanged) {\r\n            this.notifySortingChanged.unsubscribe();\r\n        }\r\n\r\n        if (this.notifyFieldClicked) {\r\n            this.notifyFieldClicked.unsubscribe();\r\n        }\r\n\r\n        if (this.notifyMenuItemClicked) {\r\n            this.notifyMenuItemClicked.unsubscribe();\r\n        }\r\n\r\n        if (this.notifyThumbnailClicked) {\r\n            this.notifyThumbnailClicked.unsubscribe();\r\n        }\r\n\r\n        this.saveSortingToSession();\r\n    }\r\n\r\n    setContainerWidth(): void {\r\n        const selectionCheckBoxWidth = this.selectionTypeForActions === SELECTION_TYPE_FOR_ACTIONS.Multi ? 44 : 0;\r\n\r\n        const rowHeight = 40; // the table row height (2.5rem * 16font-size).\r\n        const style = window.getComputedStyle(this.element.nativeElement.parentElement);\r\n        // The container-fluid class padding left + right + border\r\n        const containerFluidSpacing = parseInt(style.paddingLeft, 10) + parseInt(style.paddingRight, 10);\r\n\r\n        const parentContainer = this.element.nativeElement.parentElement.parentElement > 0 ?\r\n            this.element.nativeElement.parentElement.parentElement : this.element.nativeElement.parentElement;\r\n\r\n        // Calculate if vertical scroll should appear, if so set the scroll width. (this.totalRows + 1) + 1 is for the header row.\r\n        const scrollWidth = parentContainer.clientHeight < rowHeight * (this.totalRows + 1) ? 18 : 0; // 18 is the default scroll width.\r\n\r\n        // The selectionCheckBoxWidth width + containerFluidSpacing + scrollWidth.\r\n        const rowHeaderWidthToSub = containerFluidSpacing + selectionCheckBoxWidth + scrollWidth;\r\n        this.containerWidth = parentContainer.offsetWidth - rowHeaderWidthToSub;\r\n    }\r\n\r\n    saveSortingToSession(): void {\r\n        // this.state.setItemInState(PepperiListComponent.SORT_BY_STATE_KEY, this.sortBy);\r\n        // this.state.setItemInState(PepperiListComponent.ASCENDING_STATE_KEY, this.isAsc);\r\n        // this.state.writeToSession();\r\n    }\r\n\r\n    onMouseDown(event): void {\r\n        const self = this;\r\n\r\n        // if (!this.element.nativeElement.contains(event.target) || event.target.className === 'scrollable-content') {\r\n        //     setTimeout(() => {\r\n        //         if (self.selectionTypeForActions === SELECTION_TYPE_FOR_ACTIONS.Multi || self.selectionTypeForActions === SELECTION_TYPE_FOR_ACTIONS.SingleAction) {\r\n        //         }\r\n\r\n        //         // self.selectedItemId = '';\r\n        //         //self.hoveredItemId = '';\r\n        //     }, 500);\r\n        // }\r\n    }\r\n\r\n    removeTable(): void {\r\n        this.cleanItems();\r\n        this.uiControl = null;\r\n    }\r\n\r\n    private getTopItems(): number {\r\n        return this.isTable ? PepperiListComponent.TOP_ITEMS_TABLE : PepperiListComponent.TOP_ITEMS_THUMBNAILS;\r\n    }\r\n\r\n    private toggleItems(isVisible: boolean): void {\r\n        this.showItems = isVisible;\r\n        this.lockEvents = !isVisible;\r\n\r\n        if (this.useVirtualScroll) {\r\n            if (isVisible) {\r\n                disableScroll.off();\r\n            } else {\r\n                disableScroll.on();\r\n            }\r\n        }\r\n    }\r\n\r\n    private updateScrollItems(startIndex, endIndex, loadInChunks = true): void {\r\n        this.scrollItems = this.items.slice(startIndex, endIndex);\r\n        // if (!loadInChunks) {\r\n        //     this.scrollItems = this.items.slice(startIndex, endIndex).map((item) => item).filter((item) => item != null);\r\n        // } else {\r\n        //     // this.scrollItems = this.items.slice(startIndex, endIndex);\r\n\r\n        //     const ITEMS_RENDERED_AT_ONCE = 15;//this.isTable ? 1 : 7;\r\n        //     const INTERVAL_IN_MS = 10;\r\n\r\n        //     let currentIndex = 0;\r\n        //     const tmp = this.items.slice(startIndex, endIndex);\r\n        //     // this.scrollItems = [];\r\n\r\n        //     const interval = setInterval(() => {\r\n        //         const nextIndex = currentIndex + ITEMS_RENDERED_AT_ONCE;\r\n\r\n        //         for (let i = currentIndex; i < nextIndex; i++) {\r\n        //             // if (currentIndex === 0) {\r\n        //             //     this.scrollItems = [];\r\n        //             // }\r\n\r\n        //             if (i >= tmp.length) {\r\n        //                 clearInterval(interval);\r\n        //                 break;\r\n        //             }\r\n\r\n        //             if (this.scrollItems[i]) {\r\n        //                 this.scrollItems[i] = tmp[i];\r\n        //             } else {\r\n        //                 this.scrollItems.push(tmp[i]);\r\n        //             }\r\n        //         }\r\n\r\n        //         currentIndex += ITEMS_RENDERED_AT_ONCE;\r\n        //     }, INTERVAL_IN_MS);\r\n        // }\r\n    }\r\n\r\n    private setSelectionItems(itemId: string, uniqItemId: string, isChecked: boolean): void {\r\n        // Set selected item checkbox\r\n        if (this.isAllSelected) {\r\n            if (isChecked) {\r\n                this.unSelectedItems.delete(itemId);\r\n                this.selectedItems.set(itemId, uniqItemId);\r\n            } else {\r\n                this.selectedItems.delete(itemId);\r\n                this.unSelectedItems.set(itemId, uniqItemId);\r\n            }\r\n        } else {\r\n            if (isChecked) {\r\n                this.unSelectedItems.delete(itemId);\r\n                this.selectedItems.set(itemId, uniqItemId);\r\n            } else {\r\n                this.selectedItems.delete(itemId);\r\n                this.unSelectedItems.set(itemId, uniqItemId);\r\n            }\r\n        }\r\n    }\r\n\r\n    getUniqItemId(itemId: string, itemType: string = ''): string {\r\n        return itemId + this.SEPARATOR + itemType;\r\n    }\r\n\r\n    isItemSelected(itemId: string, itemType: string = ''): boolean {\r\n        let isSelected = false;\r\n        if (this.selectionTypeForActions === SELECTION_TYPE_FOR_ACTIONS.SingleAction ||\r\n            this.selectionTypeForActions === SELECTION_TYPE_FOR_ACTIONS.Multi) {\r\n            isSelected = this.selectedItems.has(itemId) || this.isAllSelected && !this.unSelectedItems.has(itemId);\r\n        } else if (this.selectionTypeForActions === SELECTION_TYPE_FOR_ACTIONS.Single) {\r\n            const uniqItemId = this.getUniqItemId(itemId, itemType);\r\n            isSelected = uniqItemId === this.selectedItemId;\r\n        }\r\n\r\n        return isSelected;\r\n    }\r\n\r\n    setLayout(): void {\r\n        const self = this;\r\n        if (this.totalRows === 0 ||\r\n            !this.uiControl ||\r\n            !this.uiControl.ControlFields ||\r\n            this.uiControl.ControlFields.length === 0) {\r\n            return;\r\n        }\r\n\r\n        this.uiControl.ControlFields.forEach((cf) => {\r\n            if (cf.ColumnWidth === 0) {\r\n                cf.ColumnWidth = 10;\r\n            }\r\n\r\n            if (self.isTable &&\r\n                (cf.FieldType === FIELD_TYPE.Image ||\r\n                    // cf.FieldType === FIELD_TYPE.Indicators || ???\r\n                    cf.FieldType === FIELD_TYPE.Signature ||\r\n                    cf.FieldType === FIELD_TYPE.NumberIntegerQuantitySelector ||\r\n                    cf.FieldType === FIELD_TYPE.NumberRealQuantitySelector ||\r\n                    cf.FieldType === FIELD_TYPE.NumberIntegerForMatrix ||\r\n                    cf.FieldType === FIELD_TYPE.NumberRealForMatrix ||\r\n                    cf.FieldType === FIELD_TYPE.Package ||\r\n                    cf.ApiName === 'UnitsQuantity' ||\r\n                    cf.ApiName === 'QuantitySelector')\r\n            ) {\r\n                cf.Layout.XAlignment = 3;\r\n            }\r\n        });\r\n\r\n        if (!this.cd['destroyed']) {\r\n            this.cd.detectChanges();\r\n        }\r\n\r\n        // Set the columns width.\r\n        if (this.containerWidth <= 0) {\r\n            this.setContainerWidth();\r\n        }\r\n\r\n        this.calcColumnsWidth();\r\n        this.checkForChanges = new Date().getTime();\r\n    }\r\n\r\n    private calcColumnsWidth(): void {\r\n        const fixedMultiple = 3.78; // for converting em to pixel.\r\n        const length = this.uiControl.ControlFields.length;\r\n        const selectionCheckBoxWidth = this.selectionTypeForActions === SELECTION_TYPE_FOR_ACTIONS.Multi ? 44 : 0;\r\n\r\n        // Is table AND there is at least one column of width type of percentage.\r\n        if (this.isTable) {\r\n            if (this.uiControl && this.uiControl.ControlFields) {\r\n                this.hasColumnWidthOfTypePercentage = this.uiControl.ControlFields.filter(cf => cf.ColumnWidthType === 1).length === 0;\r\n            }\r\n        }\r\n\r\n        // If the columns size is fixed and the total is small then the container change it to percentage.\r\n        if (!this.hasColumnWidthOfTypePercentage) {\r\n            const totalFixedColsWidth = this.uiControl.ControlFields\r\n                .map(cf => cf.ColumnWidth * fixedMultiple)\r\n                .reduce((sum, current) => sum + current);\r\n\r\n            if (window.innerWidth > totalFixedColsWidth) {\r\n                this.hasColumnWidthOfTypePercentage = true;\r\n            }\r\n        }\r\n\r\n        let totalCalcColsWidth = 0;\r\n\r\n        // Calc by percentage\r\n        if (this.hasColumnWidthOfTypePercentage) {\r\n            const totalColsWidth: number = this.uiControl.ControlFields.map(cf => cf.ColumnWidth).reduce((sum, current) => sum + current);\r\n\r\n            for (let index = 0; index < length; index++) {\r\n                const uiControlField: UIControlField = this.uiControl.ControlFields[index];\r\n                const calcColumnWidthPercentage = (100 / totalColsWidth) * uiControlField.ColumnWidth;\r\n\r\n                uiControlField.calcColumnWidth = Math.floor((this.containerWidth * calcColumnWidthPercentage) / 100);\r\n\r\n                if (index === length - 1) {\r\n                    uiControlField.calcTitleColumnWidthString = uiControlField.calcColumnWidthString =\r\n                        'calc(100% - ' + totalCalcColsWidth + 'px)'; // For 100%\r\n                } else {\r\n                    uiControlField.calcTitleColumnWidthString = uiControlField.calcColumnWidthString =\r\n                        uiControlField.calcColumnWidth + 'px';\r\n                    totalCalcColsWidth += uiControlField.calcColumnWidth;\r\n                }\r\n            }\r\n\r\n            this.renderer.setStyle(this.element.nativeElement, 'width', 'inherit');\r\n        } else {\r\n            for (let index = 0; index < length; index++) {\r\n                const uiControlField: UIControlField = this.uiControl.ControlFields[index];\r\n                const currentFixedWidth = Math.floor(uiControlField.ColumnWidth * fixedMultiple);\r\n\r\n                if (index === length - 1) {\r\n                    uiControlField.calcTitleColumnWidthString = currentFixedWidth + 'px';\r\n                    uiControlField.calcColumnWidthString = currentFixedWidth - 4 + 'px'; // -4 for the row padding.\r\n                } else {\r\n                    uiControlField.calcTitleColumnWidthString = uiControlField.calcColumnWidthString =\r\n                        currentFixedWidth + 'px';\r\n                }\r\n\r\n                totalCalcColsWidth += currentFixedWidth;\r\n            }\r\n\r\n            this.renderer.setStyle(this.element.nativeElement, 'width', totalCalcColsWidth + selectionCheckBoxWidth + 'px');\r\n        }\r\n    }\r\n\r\n    private initResizeData(): void {\r\n        this.startX = 0;\r\n        this.startWidth = 0;\r\n        this.tableStartWidth = 0;\r\n        this.pressedColumn = '';\r\n    }\r\n\r\n    onListResizeStart(event, apiName): void {\r\n        this.pressedColumn = apiName;\r\n        this.startX = event.x;\r\n        this.startWidth = event.target.closest('.header-column').offsetWidth;\r\n        if (this.useVirtualScroll) {\r\n            this.tableStartWidth = this.virtualScroll.contentElementRef.nativeElement.offsetWidth;\r\n        } else {\r\n            // Set the tableStartWidth to the container offsetWidth\r\n            this.tableStartWidth = this.noVirtualScrollCont.nativeElement.offsetWidth;\r\n        }\r\n    }\r\n\r\n    onListResize(event): void {\r\n        if (this.pressedColumn.length > 0) {\r\n            const widthToAdd = this.layoutService.isRtl() ? this.startX - event.x : event.x - this.startX;\r\n\r\n            // Set the width of the column and the container of the whole columns.\r\n            if (this.startWidth + widthToAdd >= PepperiListComponent.MINIMUM_COLUMN_WIDTH || widthToAdd > 0) {\r\n                const length = this.uiControl.ControlFields.length;\r\n                let totalCalcColsWidth = 0;\r\n\r\n                for (let index = 0; index < length; index++) {\r\n                    const uiControlField: UIControlField = this.uiControl.ControlFields[index];\r\n\r\n                    if (index === length - 1) {\r\n                        // Calc the last column only in percentage type.\r\n                        if (this.hasColumnWidthOfTypePercentage) {\r\n                            uiControlField.calcTitleColumnWidthString = uiControlField.calcColumnWidthString =\r\n                                'calc(100% - ' + totalCalcColsWidth + 'px)'; // For 100%\r\n                        } else {\r\n                            if (uiControlField.ApiName === this.pressedColumn) {\r\n                                uiControlField.calcColumnWidth = this.startWidth + widthToAdd;\r\n                                uiControlField.calcTitleColumnWidthString = uiControlField.calcColumnWidth + 'px';\r\n                                uiControlField.calcColumnWidthString = uiControlField.calcColumnWidth - 4 + 'px';\r\n                            }\r\n                        }\r\n                    } else if (uiControlField.ApiName === this.pressedColumn) {\r\n                        uiControlField.calcColumnWidth = this.startWidth + widthToAdd;\r\n                        uiControlField.calcTitleColumnWidthString = uiControlField.calcColumnWidthString =\r\n                            uiControlField.calcColumnWidth + 'px';\r\n                    }\r\n\r\n                    totalCalcColsWidth += uiControlField.calcColumnWidth;\r\n                }\r\n\r\n                this.renderer.setStyle(this.element.nativeElement, 'width', this.tableStartWidth + widthToAdd + 'px');\r\n            }\r\n\r\n            this.checkForChanges = new Date().getTime();\r\n        }\r\n    }\r\n\r\n    onListResizeEnd(event): void {\r\n        if (this.pressedColumn.length > 0) {\r\n            if (event && $(event.srcElement).parents('.resizeBox').length > 0) {\r\n                this.initResizeData();\r\n            } else {\r\n                // Set timeout 0 for onListSortingChange will have the pressedColumn.\r\n                const self = this;\r\n                setTimeout(() => {\r\n                    self.initResizeData();\r\n                }, 0);\r\n            }\r\n        }\r\n    }\r\n\r\n    onListSortingChange(sortBy: string, isAsc: boolean, event = null): void {\r\n        if (this.isPrinting) {\r\n            return;\r\n        }\r\n\r\n        if (this.pressedColumn.length > 0 || (event && $(event.srcElement).parents('.resizeBox').length > 0)) {\r\n            return;\r\n        }\r\n\r\n        if (this.sortBy !== sortBy || this.isAsc !== isAsc) {\r\n            this.sortBy = sortBy;\r\n            this.isAsc = isAsc;\r\n            this.saveSortingToSession();\r\n\r\n            this.notifySortingChanged.emit({ sortBy, isAsc });\r\n        }\r\n    }\r\n\r\n    onListHeaderMouseEnter(event): void {\r\n        // this.headerIsInFocus = true;\r\n    }\r\n\r\n    onListHeaderMouseLeave(event): void {\r\n        // this.headerIsInFocus = false;\r\n        this.onListResizeEnd(event);\r\n        this.initResizeData();\r\n    }\r\n\r\n    onListChange(event: ChangeEvent): void {\r\n        if (this.isPrinting) {\r\n            return;\r\n        }\r\n\r\n        // For other events do nothing.\r\n        if (typeof event.start === 'undefined' || typeof event.end === 'undefined') {\r\n            return;\r\n        }\r\n\r\n        this.calculatedObjectHeight = event.calculatedChildHeight + 'px';\r\n\r\n        if (!this.lockEvents) {\r\n            this.toggleItems(false);\r\n            this.updateScrollItems(event.start, event.end, false);\r\n\r\n            let getItemsFromApi = false;\r\n            let index: number = event.start;\r\n\r\n            while (!getItemsFromApi && index < event.end) {\r\n                if (!this.items[index]) {\r\n                    getItemsFromApi = true;\r\n                }\r\n                index++;\r\n            }\r\n\r\n            // Get bulk from api.\r\n            if (getItemsFromApi) {\r\n                const top = this.getTopItems() - 1;\r\n\r\n                if (event.addAtStart) {\r\n                    event.fromIndex = Math.max(event.start - (top - (event.end - event.start)), 0);\r\n                    event.toIndex = event.end;\r\n                } else {\r\n                    event.fromIndex = event.start;\r\n                    event.toIndex = Math.min(event.end + (top - (event.end - event.start)), this.totalRows);\r\n                }\r\n\r\n                this.notifyListChanged.emit(event);\r\n                // this.lockEvents = true;\r\n            } else {\r\n                // this.scrollItems = this.items.slice(event.start, event.end);\r\n                this.toggleItems(true);\r\n            }\r\n        }\r\n    }\r\n\r\n    // onScrollerListChange(event: any) {\r\n    //     if (this.isPrinting) {\r\n    //         return;\r\n    //     }\r\n\r\n    //     // For other events do nothing.\r\n    //     if (typeof event.startIndex === 'undefined' || typeof event.endIndex === 'undefined') {\r\n    //         return;\r\n    //     }\r\n\r\n    //     if (!this.lockEvents) {\r\n    //         this.toggleItems(false);\r\n    //         this.updateScrollItems(event.startIndex, event.endIndex);\r\n\r\n    //         let getItemsFromApi = false;\r\n    //         let index: number = event.startIndex;\r\n\r\n    //         while (!getItemsFromApi && index < event.endIndex) {\r\n    //             if (!this.items[index]) {\r\n    //                 getItemsFromApi = true;\r\n    //             }\r\n    //             index++;\r\n    //         }\r\n\r\n    //         // Get bulk from api.\r\n    //         if (getItemsFromApi) {\r\n    //             const top = this.getTopItems() - 1;\r\n\r\n    //             // if (event.addAtStart) {\r\n    //             //     event.fromIndex = Math.max(event.start - (top - (event.end - event.start)), 0);\r\n    //             //     event.toIndex = event.end;\r\n    //             // } else {\r\n    //             event.fromIndex = event.startIndex;\r\n    //             event.toIndex = Math.min(event.endIndex + (top - (event.endIndex - event.startIndex)), this.totalRows);\r\n    //             // }\r\n\r\n    //             this.notifyListChanged.emit(event);\r\n    //             // this.lockEvents = true;\r\n    //         } else {\r\n    //             // this.scrollItems = this.items.slice(event.start, event.end);\r\n    //             this.toggleItems(true);\r\n    //         }\r\n    //     }\r\n    // }\r\n\r\n    onListLoad(event: any): void {\r\n        this.notifyListLoad.emit(event);\r\n    }\r\n\r\n    getParentContainer(): Element | Window {\r\n        return this.parentScroll ? this.parentScroll : window;\r\n    }\r\n\r\n    onValueChanged(valueChanged: any): void {\r\n        if (this.disabled) {\r\n            return;\r\n        }\r\n\r\n        this.notifyValueChanged.emit(valueChanged);\r\n    }\r\n\r\n    onCustomizeFieldClick(customizeFieldClickedData: PepperiFieldClickedData): void {\r\n        if (this.disabled) {\r\n            return;\r\n        }\r\n\r\n        this.notifyFieldClicked.emit(customizeFieldClickedData);\r\n    }\r\n\r\n    onCustomizeFieldMenuClicked(customizeFieldClickedData: PepperiFieldClickedData): void {\r\n        if (this.disabled) {\r\n            return;\r\n        }\r\n\r\n        this.notifyMenuItemClicked.emit(customizeFieldClickedData);\r\n    }\r\n\r\n    getIsDisabled(pepperiObjectInput: ObjectSingleData): boolean {\r\n        if (this.disableSelectionItems) {\r\n            return true;\r\n        } else {\r\n            const IsNotSelectableForActions = pepperiObjectInput?.Data && !pepperiObjectInput.Data.IsSelectableForActions;\r\n            return IsNotSelectableForActions;\r\n        }\r\n    }\r\n\r\n    public getIsAllSelectedForActions(): boolean {\r\n        let res = false;\r\n\r\n        if (this.isAllSelected) {\r\n            if (this.unSelectedItems.size === 0) {\r\n                res = true;\r\n            }\r\n        } else {\r\n            if (this.selectedItems.size === this.totalRows) {\r\n                res = this.getIsAllSelected(this.scrollItems);\r\n            } else if (this.selectedItems.size < this.totalRows) {\r\n                // for (let index = 0; index < this.scrollItems.length; index++) {\r\n                //     const pepperiObjectInput = this.scrollItems[index];\r\n                for (const pepperiObjectInput of this.scrollItems) {\r\n                    res = pepperiObjectInput && pepperiObjectInput.Data &&\r\n                        this.selectedItems.has(pepperiObjectInput.Data.UID.toString());\r\n\r\n                    if (!res) {\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        return res;\r\n    }\r\n\r\n    public setIsAllSelected(isChecked: boolean): void {\r\n        if (this.selectionTypeForActions === SELECTION_TYPE_FOR_ACTIONS.Multi ||\r\n            this.selectionTypeForActions === SELECTION_TYPE_FOR_ACTIONS.SingleAction) {\r\n            this.selectAllCB.checked = isChecked;\r\n            this.isAllSelected = isChecked;\r\n        }\r\n    }\r\n\r\n    selectAllItemsForActions(e: any): void {\r\n        // For material checkbox || radio.\r\n        const isChecked = e.source.checked;\r\n\r\n        // Indeterminate mode\r\n        let isIndeterminate = false;\r\n        const currentList = this.isAllSelected ? this.unSelectedItems : this.selectedItems;\r\n        if (currentList.size > 0) {\r\n            isIndeterminate = true;\r\n            this.isAllSelected = false;\r\n            this.notifySelectedItemsChanged.emit(0);\r\n            e.source.checked = false;\r\n        }\r\n\r\n        this.selectedItems.clear();\r\n        this.unSelectedItems.clear();\r\n\r\n        if (!isIndeterminate) {\r\n            this.isAllSelected = isChecked;\r\n            if (this.selectionTypeForActions === SELECTION_TYPE_FOR_ACTIONS.SingleAction) {\r\n                // Add all or remove all\r\n                this.notifySelectAllSingleActionClicked.emit(isChecked);\r\n            } else if (this.selectionTypeForActions === SELECTION_TYPE_FOR_ACTIONS.Multi) {\r\n                if (!isChecked) {\r\n                    this.notifySelectedItemsChanged.emit(0);\r\n                    this.selectedItemId = '';\r\n                } else {\r\n                    const filteredItems = this.items.filter(item => item.Data && item.Data.IsSelectableForActions);\r\n                    this.notifySelectedItemsChanged.emit(filteredItems.length);\r\n                }\r\n            }\r\n        } else {\r\n            if (this.selectionTypeForActions === SELECTION_TYPE_FOR_ACTIONS.SingleAction) {\r\n                // Remove all\r\n                this.notifySelectAllSingleActionClicked.emit(false);\r\n            }\r\n        }\r\n    }\r\n\r\n    getIsSelectedForActions(itemId: string, isSelectableForActions: boolean, itemType: string = ''): boolean {\r\n        if (this.selectionTypeForActions === SELECTION_TYPE_FOR_ACTIONS.Single) {\r\n            return this.selectedItemId === this.getUniqItemId(itemId, itemType);\r\n        } else if (this.selectionTypeForActions === SELECTION_TYPE_FOR_ACTIONS.SingleAction) {\r\n            let res = this.isAllSelected || this.selectedItems.has(itemId);\r\n\r\n            if (this.unSelectedItems.has(itemId)) {\r\n                res = false;\r\n            }\r\n\r\n            return res;\r\n        } else if (this.selectionTypeForActions === SELECTION_TYPE_FOR_ACTIONS.Multi) {\r\n            if (!isSelectableForActions) {\r\n                return false;\r\n            } else {\r\n                let res = this.isAllSelected || this.selectedItems.has(itemId);\r\n\r\n                if (this.unSelectedItems.has(itemId)) {\r\n                    res = false;\r\n                }\r\n\r\n                return res;\r\n            }\r\n        }\r\n    }\r\n\r\n    selectItemForActions(e: any, itemId: string, isSelectableForActions: boolean, itemType: string = ''): void {\r\n        // For material checkbox || radio.\r\n        const isChecked = e.source.checked;\r\n        this.setItemClicked(itemId, isSelectableForActions, itemType, isChecked);\r\n    }\r\n\r\n    itemClicked(e: any, objectSingleData: ObjectSingleData): void {\r\n        // Set seleted item\r\n        const itemId = objectSingleData.Data.UID.toString();\r\n        const itemType = objectSingleData.Data.Type.toString();\r\n        let isChecked = false;\r\n\r\n        if (objectSingleData && objectSingleData.Data && objectSingleData.Data.IsSelectableForActions) {\r\n            this.selectedItemId = this.getUniqItemId(itemId, itemType);\r\n            isChecked = true;\r\n        }\r\n\r\n        if (this.isTable) {\r\n            if (this.selectionTypeForActions === SELECTION_TYPE_FOR_ACTIONS.Single) {\r\n                this.setItemClicked(itemId, objectSingleData.Data.IsSelectableForActions, itemType, isChecked);\r\n            } else if (this.selectionTypeForActions === SELECTION_TYPE_FOR_ACTIONS.None) {\r\n                // Just mark the row as highlighted\r\n                this.setItemClicked(itemId, objectSingleData.Data.IsSelectableForActions, itemType, true);\r\n            }\r\n        } else {\r\n            if (this.disabled) {\r\n                return;\r\n            }\r\n\r\n            this.notifyThumbnailClicked.emit(objectSingleData);\r\n        }\r\n    }\r\n\r\n    setItemClicked(itemId, isSelectableForActions: boolean, itemType: string, isChecked: boolean): void {\r\n        const uniqItemId = this.getUniqItemId(itemId, itemType);\r\n\r\n        // select the selected item.\r\n        if (isChecked) {\r\n            // Set seleted item\r\n            this.selectedItemId = uniqItemId;\r\n        } else {\r\n            if (this.selectedItemId === uniqItemId) {\r\n                this.selectedItemId = '';\r\n            }\r\n        }\r\n\r\n        if (this.selectionTypeForActions === SELECTION_TYPE_FOR_ACTIONS.Single) {\r\n            this.notifySelectedItemsChanged.emit(this.selectedItemId.length === 0 ? 0 : 1);\r\n        } else if (this.selectionTypeForActions === SELECTION_TYPE_FOR_ACTIONS.SingleAction) {\r\n            this.setSelectionItems(itemId, uniqItemId, isChecked);\r\n            this.notifySingleActionClicked.emit({ id: itemId, selected: isChecked });\r\n        } else if (this.selectionTypeForActions === SELECTION_TYPE_FOR_ACTIONS.Multi) {\r\n            if (isSelectableForActions) {\r\n                this.setSelectionItems(itemId, uniqItemId, isChecked);\r\n\r\n                const currentList = this.isAllSelected ? this.unSelectedItems : this.selectedItems;\r\n                const currentListCount = this.isAllSelected ? this.totalRows - currentList.size : currentList.size;\r\n                this.notifySelectedItemsChanged.emit(currentListCount);\r\n            }\r\n        }\r\n    }\r\n\r\n    onTableRowMouseEnter(event: any, itemId: string, itemType: string): void {\r\n        if (this.isTouchDevice) {\r\n            return;\r\n        }\r\n\r\n        const uniqItemId = this.getUniqItemId(itemId, itemType);\r\n        this.hoveredItemId = uniqItemId;\r\n    }\r\n\r\n    onTableRowMouseLeave(event: any, itemId: string, itemType: string): void {\r\n        this.hoveredItemId = '';\r\n    }\r\n\r\n    onCardMouseEnter(event: any, itemId: string, itemType: string): void {\r\n        if (this.isTouchDevice) {\r\n            return;\r\n        }\r\n\r\n        const uniqItemId = this.getUniqItemId(itemId, itemType);\r\n        this.hoveredItemId = uniqItemId;\r\n    }\r\n\r\n    onCardMouseLeave(event: any, itemId: string, itemType: string): void {\r\n        this.hoveredItemId = '';\r\n    }\r\n\r\n    getThumbnailsLayout(): LAYOUT_TYPE {\r\n        return this.layoutType == null ? LAYOUT_TYPE.PepperiCard : this.layoutType;\r\n    }\r\n\r\n    // call this function after resize + animation end\r\n    winResize(e): void {\r\n        if (typeof this.virtualScroll !== 'undefined') {\r\n            this.virtualScroll.refresh();\r\n        }\r\n\r\n        this.containerWidth = 0;\r\n        this.setLayout();\r\n    }\r\n\r\n    trackByFunc(index: number, item: ObjectSingleData): any {\r\n        return item && item.Data && item.Data.UID ? item.Data.UID : index;\r\n        // let res: string = \"\";\r\n\r\n        // if (item && item.Data && item.Data.UID) {\r\n        //    res = item.Data.UID + \"_\" + this.listType + \"_\" + (this.isTable ? \"Table\" : \"Thumbnails\");\r\n        // }\r\n        // else {\r\n        //    res = index + \"_\" + this.listType + \"_\" + (this.isTable ? \"Table\" : \"Thumbnails\");\r\n        // }\r\n\r\n        // return res;\r\n    }\r\n\r\n    cleanItems(): void {\r\n        this.itemsCounter = 0;\r\n        this.items = this.totalRows > 0 ? Array<ObjectSingleData>(this.totalRows) : [];\r\n        this.scrollItems = [];\r\n        this.calculatedObjectHeight = '';\r\n    }\r\n\r\n    getUIControl(): UIControl {\r\n        return this.uiControl;\r\n    }\r\n\r\n    initListData(uiControl: UIControl, totalRows: number, items: ObjectSingleData[], viewType: VIEW_TYPE = VIEW_TYPE.Table,\r\n        itemClass: string = '', showSelection: boolean = false): void {\r\n        // const selectedItemsFromState: Map<string, string> =\r\n        //     this.state.getItemFromState(PepperiListComponent.SELECTED_ITEMS_STATE_KEY);\r\n        // if (selectedItemsFromState != null && typeof selectedItemsFromState.size !== 'undefined' &&\r\n        //     selectedItemsFromState.size > 0) {\r\n        //     this.selectedItems = selectedItemsFromState;\r\n        //     this.state.setItemInState(PepperiListComponent.SELECTED_ITEMS_STATE_KEY, new Map<string, string>());\r\n        // } else {\r\n        this.selectedItems.clear();\r\n        // }\r\n\r\n        // const unSelectedItemsFromState: Map<string, string> =\r\n        //     this.state.getItemFromState(PepperiListComponent.UN_SELECTED_ITEMS_STATE_KEY);\r\n        // if (unSelectedItemsFromState != null && typeof unSelectedItemsFromState.size !== 'undefined' &&\r\n        //     unSelectedItemsFromState.size > 0) {\r\n        //     this.unSelectedItems = unSelectedItemsFromState;\r\n        //     this.state.setItemInState(PepperiListComponent.UN_SELECTED_ITEMS_STATE_KEY, new Map<string, string>());\r\n        // } else {\r\n        this.unSelectedItems.clear();\r\n        // }\r\n\r\n        // if (this.state.getItemFromState(PepperiListComponent.ALL_SELECTED_STATE_KEY) != null) {\r\n        //     let isAllSelectedFromState = this.state.getItemFromState(PepperiListComponent.ALL_SELECTED_STATE_KEY);\r\n        //     this.isAllSelected = isAllSelectedFromState && this.getIsAllSelected(items);\r\n        //     this.state.setItemInState(PepperiListComponent.ALL_SELECTED_STATE_KEY, false);\r\n        // } else {\r\n        this.isAllSelected = false;\r\n        // }\r\n\r\n        // if (this.state.getItemFromState(PepperiListComponent.SORT_BY_STATE_KEY) !== '') {\r\n        //     this.sortBy = this.state.getItemFromState(PepperiListComponent.SORT_BY_STATE_KEY);\r\n        //     this.state.setItemInState(PepperiListComponent.SORT_BY_STATE_KEY, '');\r\n        // }\r\n\r\n        // if (this.state.getItemFromState(PepperiListComponent.ASCENDING_STATE_KEY) != null) {\r\n        //     this.isAsc = this.state.getItemFromState(PepperiListComponent.ASCENDING_STATE_KEY);\r\n        //     this.state.setItemInState(PepperiListComponent.ASCENDING_STATE_KEY, false);\r\n        // }\r\n\r\n        const currentList = this.isAllSelected ? this.unSelectedItems : this.selectedItems;\r\n        const currentListCount = this.isAllSelected ? this.totalRows - currentList.size : currentList.size;\r\n        this.notifySelectedItemsChanged.emit(currentListCount);\r\n\r\n        this.isCardView = viewType === VIEW_TYPE.Card;\r\n        this.showSelection = showSelection;\r\n        this.uiControl = uiControl;\r\n        this.itemClass = itemClass;\r\n        this.selectedItemId = '';\r\n        this.isTable = viewType === VIEW_TYPE.Table;\r\n        this.totalRows = totalRows;\r\n\r\n        // fix bug for the scrollTo that doesn't work on edge div , not window\r\n        const scrollingElement = this.getParentContainer();\r\n        if (scrollingElement === window) {\r\n            scrollingElement.scrollTo(0, 0);\r\n        } else {\r\n            this.focusOnAnItem(0);\r\n        }\r\n\r\n        this.cleanItems();\r\n\r\n        if (this.totalRows === items.length) {\r\n            this.useVirtualScroll = false;\r\n            this.updateListItems(items, null);\r\n            this.onListLoad(null);\r\n        } else {\r\n            this.useVirtualScroll = true;\r\n            const numberOfStartItems = this.getNumberOfStartItems();\r\n            this.updateListItems(items, { start: 0, end: numberOfStartItems, fromIndex: 0, toIndex: numberOfStartItems, addAtStart: true });\r\n\r\n            if (typeof this.virtualScroll !== 'undefined') {\r\n                this.virtualScroll.refresh();\r\n            }\r\n        }\r\n\r\n        this.setLayout();\r\n    }\r\n\r\n    getIsAllSelected(items: Array<ObjectSingleData>): boolean {\r\n        let result = true;\r\n\r\n        if (this.selectedItems.size > 0 && items.length > 0) {\r\n            // for (let index = 0; index < items.length; index++) {\r\n            // const pepperiObjectInput = items[index];\r\n            for (const pepperiObjectInput of items) {\r\n                if (!(pepperiObjectInput && pepperiObjectInput.Data && this.selectedItems.has(pepperiObjectInput.Data.UID.toString()))) {\r\n                    result = false;\r\n                    break;\r\n                }\r\n            }\r\n        } else {\r\n            result = false;\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    getNumberOfStartItems(): number {\r\n        let numberOfStartItems = 20;\r\n\r\n        if ((this.screenSize === SCREEN_SIZE.XL) ||\r\n            (this.screenSize === SCREEN_SIZE.LG)) {\r\n            numberOfStartItems = this.isTable ? 50 : 40;\r\n        } else if (this.screenSize === SCREEN_SIZE.MD) {\r\n            numberOfStartItems = this.isTable ? 30 : 20;\r\n        } else if (this.screenSize === SCREEN_SIZE.SM) {\r\n            numberOfStartItems = this.isTable ? 20 : 10;\r\n        } else if (this.screenSize === SCREEN_SIZE.XS) {\r\n            numberOfStartItems = this.isTable ? 15 : 5;\r\n        }\r\n\r\n        return numberOfStartItems;\r\n    }\r\n\r\n    setSelectedIds(selectedIds: string[], items = null): void {\r\n        this.selectedItems.clear();\r\n        this.isAllSelected = false;\r\n\r\n        if (selectedIds) {\r\n            // for (let i = 0; i < selected.length; i++) {\r\n            for (const selectedId of selectedIds) {\r\n                const tmp = selectedId.split(this.SEPARATOR);\r\n\r\n                if (tmp && tmp.length > 0) {\r\n                    const itemId = tmp[0];\r\n                    const itemType = tmp.length > 1 ? tmp[1] : '';\r\n\r\n                    this.selectedItems.set(itemId, this.getUniqItemId(itemId, itemType));\r\n                }\r\n            }\r\n\r\n            this.isAllSelected = this.getIsAllSelected(items ? items : this.scrollItems); // this.selectedItems.Count() === this.totalRows;\r\n            this.setSelectionDataInSession();\r\n        }\r\n\r\n        if (typeof this.virtualScroll !== 'undefined') {\r\n            this.virtualScroll.refresh();\r\n        }\r\n    }\r\n\r\n    setSelectionDataInSession(): void {\r\n        // this.state.setItemInState(PepperiListComponent.SELECTED_ITEMS_STATE_KEY, this.selectedItems);\r\n        // this.state.setItemInState(PepperiListComponent.UN_SELECTED_ITEMS_STATE_KEY, this.unSelectedItems);\r\n        // this.state.setItemInState(PepperiListComponent.ALL_SELECTED_STATE_KEY, this.isAllSelected);\r\n    }\r\n\r\n    updateListItems(items: ObjectSingleData[], event: ChangeEvent): void {\r\n        if (this.useVirtualScroll) {\r\n            // Clean array\r\n            if (this.itemsCounter + items.length > PepperiListComponent.TOP_ITEMS_ARRAY) {\r\n                this.cleanItems();\r\n            }\r\n\r\n            const startIndex = event.fromIndex ? event.fromIndex : event.start;\r\n\r\n            for (let i = 0; i < items.length; i++) {\r\n                if (!this.items[i + startIndex]) {\r\n                    this.items[i + startIndex] = items[i];\r\n                    this.itemsCounter += 1;\r\n                }\r\n            }\r\n\r\n            this.updateScrollItems(event.start, event.end);\r\n            this.toggleItems(true);\r\n            // this.lockEvents = false;\r\n        } else {\r\n            this.scrollItems = this.items = items;\r\n            this.itemsCounter = items.length;\r\n        }\r\n    }\r\n\r\n    updateListItem(data: any): void {\r\n        let index = 0;\r\n\r\n        // Update items list\r\n        index = this.items.findIndex(i => i && i.Data && i.Data.UID === data.UID);\r\n        if (index >= 0 && index < this.items.length) {\r\n            this.items[index].Data = data;\r\n        }\r\n        // Update scrollItems list\r\n        index = this.scrollItems.findIndex(i => i && i.Data && i.Data.UID === data.UID);\r\n        if (index >= 0 && index < this.scrollItems.length) {\r\n            this.scrollItems[index].Data = data;\r\n            this.checkForChanges = new Date().getTime();\r\n        }\r\n    }\r\n\r\n    focusOnAnItem(itemIndex): void {\r\n        if (typeof this.virtualScroll !== 'undefined') {\r\n            this.virtualScroll.scrollInto(itemIndex);\r\n        }\r\n    }\r\n\r\n    getSelectedItemsData(isForEdit: boolean = false): SelectionData {\r\n        const res: SelectionData = new SelectionData();\r\n\r\n        if (this.selectionTypeForActions === SELECTION_TYPE_FOR_ACTIONS.Single) {\r\n            const tmp = this.selectedItemId.split(this.SEPARATOR);\r\n\r\n            res.selectionType = 1;\r\n            res.rows = [tmp[0]];\r\n            res.rowTypes = [tmp[1]];\r\n        } else if (this.selectionTypeForActions === SELECTION_TYPE_FOR_ACTIONS.Multi) {\r\n            const items = [];\r\n            const itemTypes = [];\r\n            let selectionType = 1;\r\n            let currentList = [];\r\n\r\n            // For edit - only the selected items.\r\n            if (isForEdit) {\r\n                if (!this.isAllSelected) {\r\n                    currentList = Array.from(this.selectedItems.values());\r\n                } else {\r\n                    // Get the id's of the items that not founded in unSelectedItems.\r\n                    this.items.forEach(item => {\r\n                        if (item && !this.unSelectedItems.has(item.Data.UID.toString())) {\r\n                            currentList.push(this.getUniqItemId(item.Data.UID.toString(), item.Data.Type.toString()));\r\n                        }\r\n                    });\r\n                }\r\n            } else {\r\n                // For delete - can be the unselected with select_all functionality.\r\n                currentList = Array.from(this.isAllSelected ? this.unSelectedItems.values() : this.selectedItems.values());\r\n                selectionType = this.isAllSelected ? 0 : 1;\r\n            }\r\n\r\n            currentList.forEach(item => {\r\n                const tmp = item.split(this.SEPARATOR);\r\n\r\n                if (tmp.length === 2) {\r\n                    items.push(tmp[0]);\r\n                    itemTypes.push(tmp[1]);\r\n                }\r\n            });\r\n\r\n            res.selectionType = selectionType;\r\n            res.rows = items;\r\n            res.rowTypes = itemTypes;\r\n        }\r\n\r\n        return res;\r\n    }\r\n\r\n    initCollectionFromState(collectionType, collection: string[]): void {\r\n        if (collectionType === 'Selected') {\r\n            collection.forEach(x => this.selectedItems.set(x, x));\r\n        } else {\r\n            collection.forEach(x => this.unSelectedItems.set(x, x));\r\n        }\r\n    }\r\n\r\n    getIsItemEditable(uid: string): boolean {\r\n        const item = this.items.filter(x => x.Data.UID.toString() === uid);\r\n        if (item.length > 0) {\r\n            return item[0].Data.IsEditable;\r\n        } else {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    getItemDataByID(uid: string): ObjectsDataRow {\r\n        return this.items.find(item => item.Data.UID.toString() === uid)?.Data;\r\n\r\n        // const item = this.items.filter(x => x.Data.UID.toString() === uid);\r\n        // if (item.length > 0) {\r\n        //     return item[0].Data;\r\n        // } else {\r\n        //     return null;\r\n        // }\r\n    }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { MatCommonModule } from '@angular/material/core';\r\nimport { MatCheckboxModule } from '@angular/material/checkbox';\r\nimport { MatRadioModule } from '@angular/material/radio';\r\nimport { MatIconModule } from '@angular/material/icon';\r\n\r\nimport { PepperiModule } from '@pepperi-addons/ngx-lib';\r\nimport {\r\n    PepperiIconModule,\r\n    PepperiIconRegistry,\r\n    pepperiIconArrowDown,\r\n    pepperiIconArrowEither,\r\n    pepperiIconArrowUp\r\n} from '@pepperi-addons/ngx-lib/icon';\r\nimport { PepperiFormModule } from '@pepperi-addons/ngx-lib/form';\r\n\r\nimport { VirtualScrollModule } from './virtual-scroll.component';\r\n\r\nimport { PepperiListComponent } from './list.component';\r\n\r\n@NgModule({\r\n    imports: [\r\n        CommonModule,\r\n        // Material modules,\r\n        MatCommonModule,\r\n        MatCheckboxModule,\r\n        MatRadioModule,\r\n        MatIconModule,\r\n        // Pepperi modules\r\n        PepperiModule,\r\n        PepperiIconModule,\r\n        PepperiFormModule,\r\n        VirtualScrollModule\r\n    ],\r\n    exports: [ PepperiListComponent ],\r\n    declarations: [ PepperiListComponent ],\r\n})\r\nexport class PepperiListModule {\r\n    constructor(private pepperiIconRegistry: PepperiIconRegistry) {\r\n        this.pepperiIconRegistry.registerIcons([\r\n            pepperiIconArrowDown,\r\n            pepperiIconArrowEither,\r\n            pepperiIconArrowUp\r\n        ]);\r\n    }\r\n}\r\n","/*\r\n * Public API Surface of ngx-lib/list\r\n */\r\nexport * from './list.module';\r\nexport * from './list.component';\r\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":["EventEmitter","tween.Tween","tween.Easing","NgZone","ElementRef","i0.ÉµÉµelement","i0.ÉµÉµelementStart","i0.ÉµÉµprojection","i0.ÉµÉµelementEnd","Component","Input","Output","ViewChild","ContentChild","NgModule","i0.ÉµÉµelementContainerStart","i0.ÉµÉµtext","i0.ÉµÉµelementContainerEnd","i0.ÉµÉµadvance","i0.ÉµÉµtextInterpolate","i0.ÉµÉµlistener","i0.ÉµÉµproperty","i0.ÉµÉµclassMapInterpolate1","i0.ÉµÉµpropertyInterpolate","i0.ÉµÉµtextInterpolate1","i0.ÉµÉµtemplate","i0.ÉµÉµelementContainer","i0.ÉµÉµclassMap","SELECTION_TYPE_FOR_ACTIONS","VIEW_TYPE","LAYOUT_TYPE","delay","FIELD_TYPE","SCREEN_SIZE","pepperiIconArrowDown","pepperiIconArrowEither","pepperiIconArrowUp","CommonModule","MatCommonModule","MatCheckboxModule","MatRadioModule","MatIconModule","PepperiModule","PepperiIconModule","PepperiFormModule"],"mappings":"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"}