{"version":3,"file":"pepperi-addons-ngx-lib-dialog.umd.js","sources":["../../../projects/ngx-lib/dialog/dialog.component.html","../../../projects/ngx-lib/dialog/dialog.component.ts","../../../projects/ngx-lib/dialog/dialog.module.ts","../../../projects/ngx-lib/dialog/public-api.ts","../../../projects/ngx-lib/dialog/pepperi-addons-ngx-lib-dialog.ts"],"sourcesContent":["<h2 mat-dialog-title *ngIf=\"data?.showHeader\" class=\"pepperi-border-bottom\">\r\n    <span class=\"pull-left flip\" *ngIf=\"data?.title?.length\">{{ data?.title }}</span>\r\n    <button mat-button [mat-dialog-close]=\"null\" class=\"pepperi-button icon-button md weak pull-right flip\">\r\n        <mat-icon>\r\n            <pep-icon name=\"system_close\">\r\n            </pep-icon>\r\n        </mat-icon>\r\n    </button>\r\n</h2>\r\n<div mat-dialog-content>\r\n    <span *ngIf=\"data?.contentType === DialogDataType.Text || data?.contentType === DialogDataType.Html\"\r\n        [innerHtml]=\"data?.content | safeHtml\"></span>\r\n    <textarea *ngIf=\"data?.contentType === DialogDataType.TextArea\" [readonly]=\"data?.contentData?.disabled\"\r\n        [name]=\"data?.contentData?.key\" (blur)=\"updateContent($event);\">{{ data?.content }}</textarea>\r\n</div>\r\n<div mat-dialog-actions *ngIf=\"data?.showFooter\" class=\"pepperi-border-top\">\r\n    <div class=\"spacing-element-negative\">\r\n        <button mat-button class=\"spacing-element pepperi-button md strong pull-right flip\" (click)=\"save()\">\r\n            {{ 'ACTIONS.SAVE' | translate }}\r\n        </button>\r\n        <button mat-button [mat-dialog-close]=\"null\" class=\"spacing-element pepperi-button md weak pull-right flip\">\r\n            {{ 'ACTIONS.CANCEL' | translate }}\r\n        </button>\r\n    </div>\r\n</div>","import { Component, Inject, ViewEncapsulation, Injectable, TemplateRef } from '@angular/core';\r\nimport { MAT_DIALOG_DATA, MatDialogRef, MatDialog, MatDialogConfig } from '@angular/material/dialog';\r\nimport { LayoutService } from '@pepperi-addons/ngx-lib';\r\nimport { Overlay, ComponentType } from '@angular/cdk/overlay';\r\n\r\nexport enum DialogDataType {\r\n    Text,\r\n    TextArea,\r\n    Html,\r\n    Iframe\r\n}\r\n\r\nexport class DialogData {\r\n    title = '';\r\n    content: any;\r\n    contentType: DialogDataType = DialogDataType.Text;\r\n    contentData?: any;\r\n    showHeader = true;\r\n    showFooter = false;\r\n\r\n    constructor(\r\n        options: {\r\n            title?: string,\r\n            content?: any,\r\n            contentType: DialogDataType,\r\n            contentData?: any,\r\n            showHeader?: boolean,\r\n            showFooter?: boolean\r\n        }\r\n    ) {\r\n\r\n        this.title = options.title || '';\r\n        this.content = options.content || '';\r\n        this.contentType = options.contentType;\r\n        this.contentData = options.contentData || {};\r\n        this.showHeader = options.showHeader === undefined ? true : options.showHeader;\r\n        this.showFooter = options.showFooter === undefined ? true : options.showFooter;\r\n        // this.actionButtons = actionButtons;\r\n        // this.showLoadingSpinner = showLoadingSpinner;\r\n    }\r\n}\r\n\r\n@Injectable({\r\n    providedIn: 'root'\r\n})\r\nexport class DialogService {\r\n\r\n    constructor(\r\n        private dialog: MatDialog,\r\n        private layoutService: LayoutService,\r\n        private overlay: Overlay) { }\r\n\r\n    getDialogConfig(\r\n        options: {\r\n            height?: string,\r\n            disableClose?: boolean,\r\n            minWidth?: string,\r\n            maxWidth?: string,\r\n            maxHeight?: string,\r\n            panelClass?: string,\r\n        } = {}\r\n    ): MatDialogConfig {\r\n\r\n        const dialogConfig = new MatDialogConfig();\r\n\r\n        dialogConfig.autoFocus = false;\r\n        dialogConfig.direction = this.layoutService.isRtl() ? 'rtl' : 'ltr';\r\n        dialogConfig.disableClose = options.disableClose || false;\r\n        dialogConfig.height = options.height || 'auto';\r\n        dialogConfig.maxWidth = options.maxWidth || '100vw';\r\n        dialogConfig.maxHeight = options.maxHeight || '100vh';\r\n        dialogConfig.minWidth = options.minWidth || '0';\r\n        dialogConfig.panelClass = ['pepperi-dialog', options.panelClass || ''];\r\n\r\n        dialogConfig.scrollStrategy = this.overlay.scrollStrategies.noop();\r\n\r\n        return dialogConfig;\r\n    }\r\n\r\n    openDefaultDialog(data: DialogData, config: MatDialogConfig = null): MatDialogRef<any> {\r\n        if (!config) {\r\n            config = this.getDialogConfig();\r\n        }\r\n\r\n        config.data = data;\r\n        const dialogRef = this.dialog.open(PepperiDefaultDialogComponent, config);\r\n        return dialogRef;\r\n    }\r\n\r\n    openDialog<T>(\r\n        componentOrTemplateRef: ComponentType<T> | TemplateRef<T>,\r\n        data: any = {},\r\n        config: MatDialogConfig = null): MatDialogRef<T> {\r\n\r\n        if (!config) {\r\n            config = this.getDialogConfig();\r\n        }\r\n\r\n        config.data = data;\r\n\r\n        const dialogRef = this.dialog.open(componentOrTemplateRef, config);\r\n        return dialogRef;\r\n    }\r\n}\r\n\r\n@Component({\r\n    templateUrl: './dialog.component.html',\r\n    styleUrls: ['./dialog.component.scss'],\r\n    encapsulation: ViewEncapsulation.None\r\n})\r\nexport class PepperiDefaultDialogComponent {\r\n    DialogDataType = DialogDataType;\r\n\r\n    constructor(\r\n        @Inject(MAT_DIALOG_DATA) public data: DialogData,\r\n        public dialogRef: MatDialogRef<any>\r\n    ) { }\r\n\r\n    save(): void {\r\n        this.dialogRef.close(this.data ? this.data.content : '');\r\n    }\r\n\r\n    updateContent(e): void {\r\n        this.data.content = e.target ? e.target.value : (e.currentTarget ? e.currentTarget.value : '');\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { BrowserModule } from '@angular/platform-browser';\r\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\r\n\r\nimport { MatCommonModule } from '@angular/material/core';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatDialogModule } from '@angular/material/dialog';\r\n\r\nimport { PepperiModule } from '@pepperi-addons/ngx-lib';\r\nimport { PepperiIconModule, PepperiIconRegistry, pepperiIconSystemClose } from '@pepperi-addons/ngx-lib/icon';\r\n\r\nimport { PepperiDefaultDialogComponent } from './dialog.component';\r\n\r\n@NgModule({\r\n    imports: [\r\n        CommonModule,\r\n        BrowserModule,\r\n        BrowserAnimationsModule,\r\n        // Material modules,\r\n        MatCommonModule,\r\n        MatButtonModule,\r\n        MatIconModule,\r\n        MatDialogModule,\r\n        // Pepperi modules\r\n        PepperiModule,\r\n        PepperiIconModule\r\n    ],\r\n    exports: [ ],\r\n    declarations: [PepperiDefaultDialogComponent],\r\n})\r\nexport class PepperiDialogModule {\r\n    constructor(private pepperiIconRegistry: PepperiIconRegistry) {\r\n        this.pepperiIconRegistry.registerIcons([\r\n            pepperiIconSystemClose\r\n        ]);\r\n    }\r\n}\r\n","/*\r\n * Public API Surface of ngx-lib/dialog\r\n */\r\nexport * from './dialog.module';\r\nexport * from './dialog.component';\r\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":["i0.ɵɵelementStart","i0.ɵɵtext","i0.ɵɵelementEnd","i0.ɵɵadvance","i0.ɵɵtextInterpolate","i0.ɵɵtemplate","i0.ɵɵelement","i0.ɵɵproperty","i0.ɵɵlistener","i0.ɵɵtextInterpolate1","DialogDataType","MatDialogConfig","Injectable","MAT_DIALOG_DATA","Component","ViewEncapsulation","Inject","pepperiIconSystemClose","CommonModule","BrowserModule","BrowserAnimationsModule","MatCommonModule","MatButtonModule","MatIconModule","MatDialogModule","PepperiModule","PepperiIconModule","NgModule"],"mappings":"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"}