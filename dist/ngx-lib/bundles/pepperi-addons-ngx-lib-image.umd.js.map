{"version":3,"file":"pepperi-addons-ngx-lib-image.umd.js","sources":["../../../projects/ngx-lib/image/image.component.html","../../../projects/ngx-lib/image/image.component.ts","../../../projects/ngx-lib/image/image.module.ts","../../../projects/ngx-lib/image/public-api.ts","../../../projects/ngx-lib/image/pepperi-addons-ngx-lib-image.ts"],"sourcesContent":["<ng-container [formGroup]=\"form\">\r\n    <!-- image OR attachment -->\r\n    <ng-container *ngIf=\"type !== 'images'\">\r\n        <ng-container>\r\n            <!-- New code -->\r\n            <ng-container *ngIf=\"layoutType === LAYOUT_TYPE.PepperiForm\">\r\n                <div class=\"pepperi-file-container image-container\" [ngClass]=\"{ 'one-row': rowSpan == 1}\">\r\n                    <pep-field-title [label]=\"label\" [required]=\"required\" [disabled]=\"disabled\"\r\n                        [xAlignment]=\"xAlignment\" [showTitle]=\"showTitle\">\r\n                    </pep-field-title>\r\n                    <files-uploader [id]=\"key\" [key]=\"key\" [layoutType]=\"layoutType\" [standAlone]=\"standAlone\"\r\n                        [src]=\"srcLarge || src\" [label]=\"label\" [required]=\"required\" [disabled]=\"disabled\"\r\n                        [xAlignment]=\"xAlignment\" [rowSpan]=\"rowSpan\" [controlType]=\"controlType\" [form]=\"form\"\r\n                        [acceptedExtensions]=\"acceptImagesType\" (fileChanged)=\"onFileChanged($event)\"\r\n                        (elementClicked)=\"onFileClicked($event)\" [sizeLimitMB]=\"sizeLimitMB\">\r\n                    </files-uploader>\r\n                </div>\r\n            </ng-container>\r\n\r\n            <ng-container *ngIf=\"layoutType === LAYOUT_TYPE.PepperiCard\">\r\n                <div class=\"img-wrapper \"\r\n                    [ngClass]=\"{ 'left-alignment': xAlignment == '1' || xAlignment == '0', 'right-alignment': xAlignment == '2', 'center-alignment': xAlignment == '3' }\">\r\n                    <img [id]=\"key\" [style.max-height]=\"fieldHeight\" class=\"pepperi-report-file\" [alt]=\"label\"\r\n                        [src]=\"src\" (click)=\"itemImageClick($event)\" (error)=\"errorHandler($event)\" />\r\n                </div>\r\n            </ng-container>\r\n\r\n            <ng-container *ngIf=\"layoutType === LAYOUT_TYPE.PepperiTable\">\r\n                <div class=\"img-wrapper\" [ngClass]=\"{\r\n                        'left-alignment': xAlignment == '1' || xAlignment == '0',\r\n                        'right-alignment': xAlignment == '2',\r\n                        'center-alignment': xAlignment == '3'\r\n                    }\">\r\n                    <img [id]=\"key\" [style.max-height]=\"fieldHeight\" class=\"pepperi-report-file pepperi-report-img\"\r\n                        [ngClass]=\"['text-align-' + xAlignment]\" [alt]=\"label\" [src]=\"src\"\r\n                        (click)=\"itemImageClick($event)\" (error)=\"errorHandler($event)\" (load)=\"setTitle($event)\" />\r\n                </div>\r\n            </ng-container>\r\n        </ng-container>\r\n\r\n        <!-- Menu -->\r\n        <ng-container *ngIf=\"menuField\">\r\n            <button [id]=\"key\" (click)=\"enterChildren($event)\"\r\n                class=\"floating-field pepperi-button icon-button weak invert\" [ngClass]=\"{\r\n                    bottom: menuField?.Layout?.YAlignment == '2',\r\n                    top: menuField?.Layout?.YAlignment == '1',\r\n                    left: menuField?.Layout?.XAlignment == '1',\r\n                    right: menuField?.Layout?.XAlignment == '2'\r\n                }\">\r\n                <mat-icon>\r\n                    <pep-icon name=\"system_menu\">\r\n                    </pep-icon>\r\n                </mat-icon>\r\n            </button>\r\n        </ng-container>\r\n        <!-- Campaign -->\r\n        <ng-container *ngIf=\"hasCampaignField && hasCampaignField?.FormattedValue\">\r\n            <span [id]=\"key\" class=\"campaign floating-field\" title=\"{{ hasCampaignField?.FormattedValue }}\" [ngClass]=\"{\r\n                    bottom: hasCampaignField?.Layout?.YAlignment == '2',\r\n                    top: hasCampaignField?.Layout?.YAlignment == '1',\r\n                    left: hasCampaignField?.Layout?.XAlignment == '1',\r\n                    right: hasCampaignField?.Layout?.XAlignment == '2'\r\n                }\">\r\n                <mat-icon class=\"has-active-campaign\">\r\n                    <pep-icon name=\"system_bolt\">\r\n                    </pep-icon>\r\n                </mat-icon>\r\n            </span>\r\n        </ng-container>\r\n\r\n        <!-- Indicators -->\r\n        <ng-container *ngIf=\"indicatorsField && indicatorsField?.FormattedValue != ''\">\r\n            <span [id]=\"key\" class=\"indicators-container floating-field\" [ngClass]=\"{\r\n                    bottom: indicatorsField?.Layout?.YAlignment == '2',\r\n                    top: indicatorsField?.Layout?.YAlignment == '1',\r\n                    left: indicatorsField?.Layout?.XAlignment == '1',\r\n                    right: indicatorsField?.Layout?.XAlignment == '2'\r\n                }\">\r\n                <mat-icon>\r\n                    <ng-container *ngFor=\"let value of indicatorsField?.FormattedValue?.split(';')\">\r\n                        <pep-icon class=\"pull-left flip\" name=\"indicator_dot_placeholder\" fill=\"value\">\r\n                        </pep-icon>\r\n                    </ng-container>\r\n                    <ng-container *ngIf=\"indicatorsField?.FormattedValue?.split(';').length < 4\">\r\n                        <pep-icon class=\"pull-left flip\" name=\"indicator_dot_placeholder\">\r\n                        </pep-icon>\r\n                    </ng-container>\r\n                </mat-icon>\r\n            </span>\r\n        </ng-container>\r\n    </ng-container>\r\n</ng-container>","import {\r\n    Component, OnInit, OnChanges, Input, Output, EventEmitter,\r\n    ChangeDetectorRef, ChangeDetectionStrategy, ElementRef, OnDestroy, Renderer2\r\n} from '@angular/core';\r\nimport { FormGroup } from '@angular/forms';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { FileService, LAYOUT_TYPE, STYLE_TYPE, CustomizationService } from '@pepperi-addons/ngx-lib';\r\nimport { DialogService } from '@pepperi-addons/ngx-lib/dialog';\r\nimport { PepperiImagesFilmstripComponent, ImagesFilmstripDialogData } from '@pepperi-addons/ngx-lib/images-filmstrip';\r\n\r\nimport * as $ from 'jquery';\r\n\r\n@Component({\r\n    selector: 'pep-image',\r\n    templateUrl: './image.component.html',\r\n    styleUrls: ['./image.component.scss'],\r\n    changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class PepperiImageComponent implements OnChanges, OnInit, OnDestroy {\r\n    public static ENTER_CHILDREN = '[EnterChildren]';\r\n\r\n    @Input() key = '';\r\n    @Input() srcLarge = '';\r\n    @Input() src = '';\r\n    @Input() options: any = null;\r\n    @Input() label = '';\r\n    @Input() type = 'image';\r\n    @Input() required = false;\r\n    @Input() disabled = false;\r\n    @Input() readonly = false;\r\n    @Input() xAlignment = '0';\r\n    @Input() rowSpan = 1;\r\n    @Input() indicatorsField: any = null;\r\n    @Input() menuField: any = null;\r\n    @Input() hasCampaignField: any = null;\r\n\r\n    controlType = 'image';\r\n\r\n    @Input() form: FormGroup = null;\r\n    @Input() objectId = '';\r\n    @Input() showTitle = true;\r\n    @Input() layoutType: LAYOUT_TYPE = LAYOUT_TYPE.PepperiForm;\r\n    @Input() isActive = false;\r\n    @Input() sizeLimitMB = 5;\r\n    @Input() acceptImagesType = 'bmp,jpg,jpeg,png,gif'; // \"image/bmp, image/jpg, image/jpeg, image/png, image/tif, image/tiff\";\r\n\r\n    @Output() valueChanged: EventEmitter<any> = new EventEmitter<any>();\r\n    @Output() elementClicked: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n    LAYOUT_TYPE = LAYOUT_TYPE;\r\n    fieldHeight = '';\r\n    standAlone = false;\r\n    dataURI = null;\r\n\r\n    constructor(\r\n        private translate: TranslateService,\r\n        private dialogService: DialogService,\r\n        private customizationService: CustomizationService,\r\n        private fileService: FileService,\r\n        private renderer: Renderer2,\r\n        private element: ElementRef) {\r\n    }\r\n\r\n    ngOnInit(): void {\r\n        if (this.form === null) {\r\n            this.standAlone = true;\r\n            this.form = this.customizationService.getDefaultFromGroup(this.key, this.src, this.required, this.readonly, this.disabled);\r\n\r\n            this.renderer.addClass(this.element.nativeElement, CustomizationService.STAND_ALONE_FIELD_CLASS_NAME);\r\n        }\r\n\r\n        this.fieldHeight = this.customizationService.calculateFieldHeight(this.layoutType, this.rowSpan, this.standAlone);\r\n    }\r\n\r\n    ngOnChanges(changes: any): void {\r\n        if (changes.src?.currentValue?.length > 0) {\r\n            // Empty dataURI if there is change in the src.\r\n            this.dataURI = null;\r\n        }\r\n    }\r\n\r\n    ngOnDestroy(): void {\r\n        if (this.elementClicked) {\r\n            this.elementClicked.unsubscribe();\r\n        }\r\n\r\n        if (this.valueChanged) {\r\n            this.valueChanged.unsubscribe();\r\n        }\r\n    }\r\n\r\n    errorHandler(event: any): void {\r\n        event.target.src = this.fileService.getNoImagePath();\r\n        event.target.title = this.translate.instant('IMAGE.NO_IMAGE');\r\n    }\r\n\r\n    setTitle(event: any): void {\r\n        event.target.style.visibility = 'visible';\r\n        event.target.title = event.target.title.length === 0 ? this.translate.instant('IMAGE.CLICK_TO_ENLARGE') : event.target.title;\r\n    }\r\n\r\n    enterChildren(event: any): void {\r\n        this.elementClicked.emit({ apiName: PepperiImageComponent.ENTER_CHILDREN, eventWhich: event.which });\r\n    }\r\n\r\n    onFileChanged(value: any): void {\r\n        this.dataURI = value.length > 0 ? JSON.parse(value) : null;\r\n        this.src = this.srcLarge = this.standAlone && this.dataURI ? this.dataURI.fileStr : '';\r\n\r\n        this.customizationService.updateFormFieldValue(this.form, this.key, this.dataURI ? this.dataURI.fileExt : '');\r\n        this.valueChanged.emit({ apiName: this.key, value, controlType: this.controlType });\r\n    }\r\n\r\n    objectIdIsNotEmpty(): boolean {\r\n        return (this.objectId?.length > 0 && this.objectId !== '0');\r\n    }\r\n\r\n    onFileClicked(event: any): void {\r\n        let hasParentImage = true;\r\n        if (this.objectIdIsNotEmpty() && this.src && this.src.indexOf('no-image') > -1) {\r\n            hasParentImage = false;\r\n        }\r\n\r\n        this.openImageModal(hasParentImage);\r\n        this.elementClicked.emit({ apiName: this.key, eventWhich: event.which });\r\n    }\r\n\r\n    itemImageClick(event: any): void {\r\n        let hasParentImage = true;\r\n        if (($(event.target).attr('src') && $(event.target).attr('src').indexOf('no-image') > -1) ||\r\n            ($(event.target).next('img').length && $(event.target).next('img').attr('src').indexOf('no-image') > -1)) {\r\n            hasParentImage = false;\r\n        }\r\n\r\n        this.openImageModal(hasParentImage);\r\n    }\r\n\r\n    openImageModal(hasParentImage: boolean): void {\r\n        if (this.dataURI) {\r\n            const fileStrArr = this.dataURI.fileStr.split(';');\r\n            if (fileStrArr.length === 2) {\r\n                const win = window.open('', '_blank');\r\n                const contentType = fileStrArr[0].split(':')[1];\r\n                const base64 = fileStrArr[1].split(',')[1];\r\n                const blob = this.fileService.convertFromb64toBlob(base64, contentType);\r\n                const url = URL.createObjectURL(blob);\r\n                win.location.href = url;\r\n            }\r\n        } else {\r\n            // Show image in modal.\r\n            const dialogRef = this.dialogService.openDialog(\r\n                PepperiImagesFilmstripComponent,\r\n                {\r\n                    currIndex: 0,\r\n                    key: this.key,\r\n                    value: this.srcLarge || this.src,\r\n                    label: this.label,\r\n                    objectId: this.objectId,\r\n                    showThumbnails: true\r\n                });\r\n        }\r\n    }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ReactiveFormsModule, FormsModule } from '@angular/forms';\r\n\r\nimport { MatCommonModule } from '@angular/material/core';\r\nimport { MatFormFieldModule } from '@angular/material/form-field';\r\nimport { MatIconModule } from '@angular/material/icon';\r\n\r\nimport { PepperiModule } from '@pepperi-addons/ngx-lib';\r\nimport {\r\n    PepperiIconModule,\r\n    PepperiIconRegistry,\r\n    pepperiIconSystemMenu,\r\n    pepperiIconSystemBolt,\r\n    pepperiIconIndicatorDotPlaceholder\r\n} from '@pepperi-addons/ngx-lib/icon';\r\nimport { PepperiFieldTitleModule } from '@pepperi-addons/ngx-lib/field-title';\r\nimport { PepperiFilesUploaderModule } from '@pepperi-addons/ngx-lib/files-uploader';\r\n\r\nimport { PepperiImageComponent } from './image.component';\r\n\r\n@NgModule({\r\n    imports: [\r\n        CommonModule,\r\n        ReactiveFormsModule,\r\n        FormsModule,\r\n        // Material modules,\r\n        MatCommonModule,\r\n        MatFormFieldModule,\r\n        MatIconModule,\r\n        // Pepperi modules\r\n        PepperiModule,\r\n        PepperiIconModule,\r\n        PepperiFieldTitleModule,\r\n        PepperiFilesUploaderModule,\r\n    ],\r\n    exports: [ PepperiImageComponent ],\r\n    declarations: [ PepperiImageComponent ],\r\n})\r\nexport class PepperiImageModule {\r\n    constructor(private pepperiIconRegistry: PepperiIconRegistry) {\r\n        this.pepperiIconRegistry.registerIcons([\r\n            pepperiIconSystemMenu,\r\n            pepperiIconSystemBolt,\r\n            pepperiIconIndicatorDotPlaceholder\r\n        ]);\r\n    }\r\n}\r\n","/*\r\n * Public API Surface of ngx-lib/image\r\n */\r\nexport * from './image.module';\r\nexport * from './image.component';\r\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":["i0.ɵɵelementContainerStart","i0.ɵɵelementStart","i0.ɵɵelement","i0.ɵɵlistener","i0.ɵɵelementEnd","i0.ɵɵelementContainerEnd","i0.ɵɵadvance","i0.ɵɵproperty","i0.ɵɵstyleProp","i0.ɵɵpropertyInterpolate","i0.ɵɵtemplate","LAYOUT_TYPE","EventEmitter","CustomizationService","PepperiImagesFilmstripComponent","Component","ChangeDetectionStrategy","Input","Output","pepperiIconSystemMenu","pepperiIconSystemBolt","pepperiIconIndicatorDotPlaceholder","CommonModule","ReactiveFormsModule","FormsModule","MatCommonModule","MatFormFieldModule","MatIconModule","PepperiModule","PepperiIconModule","PepperiFieldTitleModule","PepperiFilesUploaderModule","NgModule"],"mappings":"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"}