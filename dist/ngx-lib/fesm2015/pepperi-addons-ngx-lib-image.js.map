{"version":3,"file":"pepperi-addons-ngx-lib-image.js","sources":["../../../projects/ngx-lib/image/image.component.html","../../../projects/ngx-lib/image/image.component.ts","../../../projects/ngx-lib/image/image.module.ts","../../../projects/ngx-lib/image/public-api.ts","../../../projects/ngx-lib/image/pepperi-addons-ngx-lib-image.ts"],"sourcesContent":["<ng-container [formGroup]=\"form\">\r\n    <!-- image OR attachment -->\r\n    <ng-container *ngIf=\"type !== 'images'\">\r\n        <ng-container>\r\n            <!-- New code -->\r\n            <ng-container *ngIf=\"layoutType === LAYOUT_TYPE.PepperiForm\">\r\n                <div class=\"pepperi-file-container image-container\" [ngClass]=\"{ 'one-row': rowSpan == 1}\">\r\n                    <pep-field-title [label]=\"label\" [required]=\"required\" [disabled]=\"disabled\"\r\n                        [xAlignment]=\"xAlignment\" [showTitle]=\"showTitle\">\r\n                    </pep-field-title>\r\n                    <files-uploader [id]=\"key\" [key]=\"key\" [layoutType]=\"layoutType\" [standAlone]=\"standAlone\"\r\n                        [src]=\"srcLarge || src\" [label]=\"label\" [required]=\"required\" [disabled]=\"disabled\"\r\n                        [xAlignment]=\"xAlignment\" [rowSpan]=\"rowSpan\" [controlType]=\"controlType\" [form]=\"form\"\r\n                        [acceptedExtensions]=\"acceptImagesType\" (fileChanged)=\"onFileChanged($event)\"\r\n                        (elementClicked)=\"onFileClicked($event)\" [sizeLimitMB]=\"sizeLimitMB\">\r\n                    </files-uploader>\r\n                </div>\r\n            </ng-container>\r\n\r\n            <ng-container *ngIf=\"layoutType === LAYOUT_TYPE.PepperiCard\">\r\n                <div class=\"img-wrapper \"\r\n                    [ngClass]=\"{ 'left-alignment': xAlignment == '1' || xAlignment == '0', 'right-alignment': xAlignment == '2', 'center-alignment': xAlignment == '3' }\">\r\n                    <img [id]=\"key\" [style.max-height]=\"fieldHeight\" class=\"pepperi-report-file\" [alt]=\"label\"\r\n                        [src]=\"src\" (click)=\"itemImageClick($event)\" (error)=\"errorHandler($event)\" />\r\n                </div>\r\n            </ng-container>\r\n\r\n            <ng-container *ngIf=\"layoutType === LAYOUT_TYPE.PepperiTable\">\r\n                <div class=\"img-wrapper\" [ngClass]=\"{\r\n                        'left-alignment': xAlignment == '1' || xAlignment == '0',\r\n                        'right-alignment': xAlignment == '2',\r\n                        'center-alignment': xAlignment == '3'\r\n                    }\">\r\n                    <img [id]=\"key\" [style.max-height]=\"fieldHeight\" class=\"pepperi-report-file pepperi-report-img\"\r\n                        [ngClass]=\"['text-align-' + xAlignment]\" [alt]=\"label\" [src]=\"src\"\r\n                        (click)=\"itemImageClick($event)\" (error)=\"errorHandler($event)\" (load)=\"setTitle($event)\" />\r\n                </div>\r\n            </ng-container>\r\n        </ng-container>\r\n\r\n        <!-- Menu -->\r\n        <ng-container *ngIf=\"menuField\">\r\n            <button [id]=\"key\" (click)=\"enterChildren($event)\"\r\n                class=\"floating-field pepperi-button icon-button weak invert\" [ngClass]=\"{\r\n                    bottom: menuField?.Layout?.YAlignment == '2',\r\n                    top: menuField?.Layout?.YAlignment == '1',\r\n                    left: menuField?.Layout?.XAlignment == '1',\r\n                    right: menuField?.Layout?.XAlignment == '2'\r\n                }\">\r\n                <mat-icon>\r\n                    <pep-icon name=\"system_menu\">\r\n                    </pep-icon>\r\n                </mat-icon>\r\n            </button>\r\n        </ng-container>\r\n        <!-- Campaign -->\r\n        <ng-container *ngIf=\"hasCampaignField && hasCampaignField?.FormattedValue\">\r\n            <span [id]=\"key\" class=\"campaign floating-field\" title=\"{{ hasCampaignField?.FormattedValue }}\" [ngClass]=\"{\r\n                    bottom: hasCampaignField?.Layout?.YAlignment == '2',\r\n                    top: hasCampaignField?.Layout?.YAlignment == '1',\r\n                    left: hasCampaignField?.Layout?.XAlignment == '1',\r\n                    right: hasCampaignField?.Layout?.XAlignment == '2'\r\n                }\">\r\n                <mat-icon class=\"has-active-campaign\">\r\n                    <pep-icon name=\"system_bolt\">\r\n                    </pep-icon>\r\n                </mat-icon>\r\n            </span>\r\n        </ng-container>\r\n\r\n        <!-- Indicators -->\r\n        <ng-container *ngIf=\"indicatorsField && indicatorsField?.FormattedValue != ''\">\r\n            <span [id]=\"key\" class=\"indicators-container floating-field\" [ngClass]=\"{\r\n                    bottom: indicatorsField?.Layout?.YAlignment == '2',\r\n                    top: indicatorsField?.Layout?.YAlignment == '1',\r\n                    left: indicatorsField?.Layout?.XAlignment == '1',\r\n                    right: indicatorsField?.Layout?.XAlignment == '2'\r\n                }\">\r\n                <mat-icon>\r\n                    <ng-container *ngFor=\"let value of indicatorsField?.FormattedValue?.split(';')\">\r\n                        <pep-icon class=\"pull-left flip\" name=\"indicator_dot_placeholder\" fill=\"value\">\r\n                        </pep-icon>\r\n                    </ng-container>\r\n                    <ng-container *ngIf=\"indicatorsField?.FormattedValue?.split(';').length < 4\">\r\n                        <pep-icon class=\"pull-left flip\" name=\"indicator_dot_placeholder\">\r\n                        </pep-icon>\r\n                    </ng-container>\r\n                </mat-icon>\r\n            </span>\r\n        </ng-container>\r\n    </ng-container>\r\n</ng-container>","import {\r\n    Component, OnInit, OnChanges, Input, Output, EventEmitter,\r\n    ChangeDetectorRef, ChangeDetectionStrategy, ElementRef, OnDestroy, Renderer2\r\n} from '@angular/core';\r\nimport { FormGroup } from '@angular/forms';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { FileService, LAYOUT_TYPE, STYLE_TYPE, CustomizationService } from '@pepperi-addons/ngx-lib';\r\nimport { DialogService } from '@pepperi-addons/ngx-lib/dialog';\r\nimport { PepperiImagesFilmstripComponent, ImagesFilmstripDialogData } from '@pepperi-addons/ngx-lib/images-filmstrip';\r\n\r\nimport * as $ from 'jquery';\r\n\r\n@Component({\r\n    selector: 'pep-image',\r\n    templateUrl: './image.component.html',\r\n    styleUrls: ['./image.component.scss'],\r\n    changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class PepperiImageComponent implements OnChanges, OnInit, OnDestroy {\r\n    public static ENTER_CHILDREN = '[EnterChildren]';\r\n\r\n    @Input() key = '';\r\n    @Input() srcLarge = '';\r\n    @Input() src = '';\r\n    @Input() options: any = null;\r\n    @Input() label = '';\r\n    @Input() type = 'image';\r\n    @Input() required = false;\r\n    @Input() disabled = false;\r\n    @Input() readonly = false;\r\n    @Input() xAlignment = '0';\r\n    @Input() rowSpan = 1;\r\n    @Input() indicatorsField: any = null;\r\n    @Input() menuField: any = null;\r\n    @Input() hasCampaignField: any = null;\r\n\r\n    controlType = 'image';\r\n\r\n    @Input() form: FormGroup = null;\r\n    @Input() objectId = '';\r\n    @Input() showTitle = true;\r\n    @Input() layoutType: LAYOUT_TYPE = LAYOUT_TYPE.PepperiForm;\r\n    @Input() isActive = false;\r\n    @Input() sizeLimitMB = 5;\r\n    @Input() acceptImagesType = 'bmp,jpg,jpeg,png,gif'; // \"image/bmp, image/jpg, image/jpeg, image/png, image/tif, image/tiff\";\r\n\r\n    @Output() valueChanged: EventEmitter<any> = new EventEmitter<any>();\r\n    @Output() elementClicked: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n    LAYOUT_TYPE = LAYOUT_TYPE;\r\n    fieldHeight = '';\r\n    standAlone = false;\r\n    dataURI = null;\r\n\r\n    constructor(\r\n        private translate: TranslateService,\r\n        private dialogService: DialogService,\r\n        private customizationService: CustomizationService,\r\n        private fileService: FileService,\r\n        private renderer: Renderer2,\r\n        private element: ElementRef) {\r\n    }\r\n\r\n    ngOnInit(): void {\r\n        if (this.form === null) {\r\n            this.standAlone = true;\r\n            this.form = this.customizationService.getDefaultFromGroup(this.key, this.src, this.required, this.readonly, this.disabled);\r\n\r\n            this.renderer.addClass(this.element.nativeElement, CustomizationService.STAND_ALONE_FIELD_CLASS_NAME);\r\n        }\r\n\r\n        this.fieldHeight = this.customizationService.calculateFieldHeight(this.layoutType, this.rowSpan, this.standAlone);\r\n    }\r\n\r\n    ngOnChanges(changes: any): void {\r\n        if (changes.src?.currentValue?.length > 0) {\r\n            // Empty dataURI if there is change in the src.\r\n            this.dataURI = null;\r\n        }\r\n    }\r\n\r\n    ngOnDestroy(): void {\r\n        if (this.elementClicked) {\r\n            this.elementClicked.unsubscribe();\r\n        }\r\n\r\n        if (this.valueChanged) {\r\n            this.valueChanged.unsubscribe();\r\n        }\r\n    }\r\n\r\n    errorHandler(event: any): void {\r\n        event.target.src = this.fileService.getNoImagePath();\r\n        event.target.title = this.translate.instant('IMAGE.NO_IMAGE');\r\n    }\r\n\r\n    setTitle(event: any): void {\r\n        event.target.style.visibility = 'visible';\r\n        event.target.title = event.target.title.length === 0 ? this.translate.instant('IMAGE.CLICK_TO_ENLARGE') : event.target.title;\r\n    }\r\n\r\n    enterChildren(event: any): void {\r\n        this.elementClicked.emit({ apiName: PepperiImageComponent.ENTER_CHILDREN, eventWhich: event.which });\r\n    }\r\n\r\n    onFileChanged(value: any): void {\r\n        this.dataURI = value.length > 0 ? JSON.parse(value) : null;\r\n        this.src = this.srcLarge = this.standAlone && this.dataURI ? this.dataURI.fileStr : '';\r\n\r\n        this.customizationService.updateFormFieldValue(this.form, this.key, this.dataURI ? this.dataURI.fileExt : '');\r\n        this.valueChanged.emit({ apiName: this.key, value, controlType: this.controlType });\r\n    }\r\n\r\n    objectIdIsNotEmpty(): boolean {\r\n        return (this.objectId?.length > 0 && this.objectId !== '0');\r\n    }\r\n\r\n    onFileClicked(event: any): void {\r\n        let hasParentImage = true;\r\n        if (this.objectIdIsNotEmpty() && this.src && this.src.indexOf('no-image') > -1) {\r\n            hasParentImage = false;\r\n        }\r\n\r\n        this.openImageModal(hasParentImage);\r\n        this.elementClicked.emit({ apiName: this.key, eventWhich: event.which });\r\n    }\r\n\r\n    itemImageClick(event: any): void {\r\n        let hasParentImage = true;\r\n        if (($(event.target).attr('src') && $(event.target).attr('src').indexOf('no-image') > -1) ||\r\n            ($(event.target).next('img').length && $(event.target).next('img').attr('src').indexOf('no-image') > -1)) {\r\n            hasParentImage = false;\r\n        }\r\n\r\n        this.openImageModal(hasParentImage);\r\n    }\r\n\r\n    openImageModal(hasParentImage: boolean): void {\r\n        if (this.dataURI) {\r\n            const fileStrArr = this.dataURI.fileStr.split(';');\r\n            if (fileStrArr.length === 2) {\r\n                const win = window.open('', '_blank');\r\n                const contentType = fileStrArr[0].split(':')[1];\r\n                const base64 = fileStrArr[1].split(',')[1];\r\n                const blob = this.fileService.convertFromb64toBlob(base64, contentType);\r\n                const url = URL.createObjectURL(blob);\r\n                win.location.href = url;\r\n            }\r\n        } else {\r\n            // Show image in modal.\r\n            const dialogRef = this.dialogService.openDialog(\r\n                PepperiImagesFilmstripComponent,\r\n                {\r\n                    currIndex: 0,\r\n                    key: this.key,\r\n                    value: this.srcLarge || this.src,\r\n                    label: this.label,\r\n                    objectId: this.objectId,\r\n                    showThumbnails: true\r\n                });\r\n        }\r\n    }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ReactiveFormsModule, FormsModule } from '@angular/forms';\r\n\r\nimport { MatCommonModule } from '@angular/material/core';\r\nimport { MatFormFieldModule } from '@angular/material/form-field';\r\nimport { MatIconModule } from '@angular/material/icon';\r\n\r\nimport { PepperiModule } from '@pepperi-addons/ngx-lib';\r\nimport {\r\n    PepperiIconModule,\r\n    PepperiIconRegistry,\r\n    pepperiIconSystemMenu,\r\n    pepperiIconSystemBolt,\r\n    pepperiIconIndicatorDotPlaceholder\r\n} from '@pepperi-addons/ngx-lib/icon';\r\nimport { PepperiFieldTitleModule } from '@pepperi-addons/ngx-lib/field-title';\r\nimport { PepperiFilesUploaderModule } from '@pepperi-addons/ngx-lib/files-uploader';\r\n\r\nimport { PepperiImageComponent } from './image.component';\r\n\r\n@NgModule({\r\n    imports: [\r\n        CommonModule,\r\n        ReactiveFormsModule,\r\n        FormsModule,\r\n        // Material modules,\r\n        MatCommonModule,\r\n        MatFormFieldModule,\r\n        MatIconModule,\r\n        // Pepperi modules\r\n        PepperiModule,\r\n        PepperiIconModule,\r\n        PepperiFieldTitleModule,\r\n        PepperiFilesUploaderModule,\r\n    ],\r\n    exports: [ PepperiImageComponent ],\r\n    declarations: [ PepperiImageComponent ],\r\n})\r\nexport class PepperiImageModule {\r\n    constructor(private pepperiIconRegistry: PepperiIconRegistry) {\r\n        this.pepperiIconRegistry.registerIcons([\r\n            pepperiIconSystemMenu,\r\n            pepperiIconSystemBolt,\r\n            pepperiIconIndicatorDotPlaceholder\r\n        ]);\r\n    }\r\n}\r\n","/*\r\n * Public API Surface of ngx-lib/image\r\n */\r\nexport * from './image.module';\r\nexport * from './image.component';\r\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":["i0.ɵɵelementContainerStart","i0.ɵɵelementStart","i0.ɵɵelement","i0.ɵɵlistener","i0.ɵɵelementEnd","i0.ɵɵelementContainerEnd","i0.ɵɵadvance","i0.ɵɵproperty","i0.ɵɵstyleProp","i0.ɵɵpropertyInterpolate","i0.ɵɵtemplate"],"mappings":"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"}